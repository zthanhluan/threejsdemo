{"version":3,"file":"js/app.9757a115.js","mappings":"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","sources":["webpack://threejsdemo/./src/App.vue","webpack://threejsdemo/./src/components/HomePage.vue","webpack://threejsdemo/./src/components/NavMenu.vue","webpack://threejsdemo/./src/components/NavMenu.vue?bcc5","webpack://threejsdemo/./src/components/HomePage.vue?8b1a","webpack://threejsdemo/./src/components/AboutPage.vue","webpack://threejsdemo/./src/const.js","webpack://threejsdemo/./src/components/AboutPage.vue?95cc","webpack://threejsdemo/./src/components/FirstPage.vue","webpack://threejsdemo/./src/components/FirstPage.vue?a07f","webpack://threejsdemo/./src/components/SecondPage.vue","webpack://threejsdemo/./src/components/SecondPage.vue?ee1e","webpack://threejsdemo/./src/components/TempPage.vue","webpack://threejsdemo/./src/components/TempPage.vue?ef17","webpack://threejsdemo/./src/components/APage.vue","webpack://threejsdemo/./src/components/APage.vue?b082","webpack://threejsdemo/./src/components/BPage.vue","webpack://threejsdemo/./src/components/utils/cannonUtils.js","webpack://threejsdemo/./src/components/BPage.vue?ba31","webpack://threejsdemo/./src/components/WaterPage.vue","webpack://threejsdemo/./src/components/utils/floater.js","webpack://threejsdemo/./src/components/utils/gerstnerWater.js","webpack://threejsdemo/./src/components/WaterPage.vue?7bb9","webpack://threejsdemo/./src/components/EdgeDetectPage.vue","webpack://threejsdemo/./src/components/EdgeDetectPage.vue?cce8","webpack://threejsdemo/./src/components/ShadersOceanPage.vue","webpack://threejsdemo/./src/components/ShadersOceanPage.vue?5caf","webpack://threejsdemo/./src/components/GamePage.vue","webpack://threejsdemo/./src/components/GamePage.vue?782a","webpack://threejsdemo/./src/router.js","webpack://threejsdemo/./src/App.vue?7ccd","webpack://threejsdemo/./src/main.js","webpack://threejsdemo/webpack/bootstrap","webpack://threejsdemo/webpack/runtime/chunk loaded","webpack://threejsdemo/webpack/runtime/compat get default export","webpack://threejsdemo/webpack/runtime/define property getters","webpack://threejsdemo/webpack/runtime/global","webpack://threejsdemo/webpack/runtime/hasOwnProperty shorthand","webpack://threejsdemo/webpack/runtime/jsonp chunk loading","webpack://threejsdemo/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport router from './router'\n// import LegendaryCursor from \"legendary-cursor\";\n\nexport default {\n  name: 'App',\n  components: {\n    // Khai báo các component sử dụng trong ứng dụng\n  },\n  router, // Sử dụng router trong ứng dụng\n  mounted() {\n    // window.addEventListener(\"load\", () => {\n    //   LegendaryCursor.init();\n    // });\n  }\n}\n</script>\n\n<style>\n  html, body {\n    margin: 0;\n    height: 100%;\n  }\n  .note-text {\n    position: absolute;\n    top: 110px;\n    left: 20px;\n    font-size: 16px;\n  }\n  h1 {\n    position: absolute;\n    top: 0px;\n    left: 20px;\n  }\n  .nav-buttons {\n    display: flex;\n    justify-content: space-between;\n    position: absolute;\n    top: 70px;\n  }\n\n  .nav-button {\n    background-color: #ccc;\n    border: 1px solid black;\n    color: #333;\n    padding: 5px 10px;\n    text-align: center;\n    text-decoration: none;\n    font-size: 12px;\n    cursor: pointer;\n    flex-grow: 1;\n    margin: 0 0px;\n  }\n\n\n  .active {\n    background-color: #f00;\n    color: #fff;\n  }\n  .x-axis-label {\n    position: absolute;\n    top: 10px;\n    right: 20px;\n    color: #ff0000;\n    font-size: 16px;\n  }\n  .y-axis-label {\n    position: absolute;\n    top: 30px;\n    right: 20px;\n    color: #00ff00;\n    font-size: 16px;\n  }\n  .z-axis-label {\n    position: absolute;\n    top: 50px;\n    right: 20px;\n    color: #0000ff;\n    font-size: 16px;\n  }\n  .x-axis-label, .y-axis-label, .z-axis-label {\n    z-index: 1000;\n  }\n  .x-color-box {\n    top: 12px;\n    right: 60px;\n    width: 30px;\n    height: 12px;\n    background-color: red;\n    display: inline-block;\n    position: absolute;\n    margin-right: 10px;\n  }\n  .y-color-box {\n    top: 32px;\n    right: 60px;\n    width: 30px;\n    height: 12px;\n    background-color: green;\n    display: inline-block;\n    position: absolute;\n    margin-right: 10px;\n  }\n  .z-color-box {\n    top: 52px;\n    right: 60px;\n    width: 30px;\n    height: 12px;\n    background-color: blue;\n    display: inline-block;\n    position: absolute;\n    margin-right: 10px;\n  }\n</style>\n\n","<template>\n  <div>\n    <div class=\"note-text\" style=\"color:red;\">A-W-S-D to move. Space to jump. Esc to exit</div>\n    <h1 style=\"color:red;\">Follow Camera</h1>\n    <nav-menu />\n    <div id=\"menuPanel\">\n      <button id=\"startButton\">Click to Start</button>\n    </div>\n  </div>\n</template>\n<script>\n//import * as MYCONST from '@/const.js';\nimport NavMenu from '@/components/NavMenu.vue'\nimport * as THREE from 'three'\nimport { PointerLockControls } from 'three/examples/jsm/controls/PointerLockControls'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport * as CANNON from 'cannon-es'\nexport default {\n  name: 'HomePage',\n  components: {\n    NavMenu\n  },\n  mounted() {\n    const scene = new THREE.Scene()\n\n    var light1 = new THREE.SpotLight()\n    light1.position.set(2.5, 5, 2.5)\n    light1.angle = Math.PI / 8\n    light1.penumbra = 0.5\n    light1.castShadow = true\n    light1.shadow.mapSize.width = 1024\n    light1.shadow.mapSize.height = 1024\n    light1.shadow.camera.near = 0.5\n    light1.shadow.camera.far = 20\n    scene.add(light1)\n\n    var light2 = new THREE.SpotLight()\n    light2.position.set(-2.5, 5, 2.5)\n    light2.angle = Math.PI / 8\n    light2.penumbra = 0.5\n    light2.castShadow = true\n    light2.shadow.mapSize.width = 1024\n    light2.shadow.mapSize.height = 1024\n    light2.shadow.camera.near = 0.5\n    light2.shadow.camera.far = 20\n    scene.add(light2)\n\n    const camera = new THREE.PerspectiveCamera(\n      75,\n      window.innerWidth / window.innerHeight,\n      0.01,\n      100\n    )\n    camera.position.set(0, 1.4, 2.0)\n\n    const followCamPivot = new THREE.Object3D()\n    followCamPivot.rotation.order = 'YXZ'\n    const followCam = new THREE.Object3D()\n    followCam.position.z = 2\n    followCamPivot.add(followCam)\n\n    const renderer = new THREE.WebGLRenderer()\n    renderer.setSize(window.innerWidth, window.innerHeight)\n    //renderer.setClearColor(MYCONST.RENDERER_CLEAR_COLOR)\n    renderer.outputEncoding = THREE.sRGBEncoding\n    renderer.shadowMap.enabled = true\n    this.$el.appendChild(renderer.domElement)\n\n    const world = new CANNON.World()\n    world.gravity.set(0, -9.82, 0)\n\n    const groundMaterial = new CANNON.Material('groundMaterial')\n    const slipperyMaterial = new CANNON.Material('slipperyMaterial')\n    const slippery_ground_cm = new CANNON.ContactMaterial(\n      groundMaterial,\n      slipperyMaterial,\n      {\n        friction: 0,\n        restitution: 0.3,\n        contactEquationStiffness: 1e8,\n        contactEquationRelaxation: 3,\n      }\n    )\n    world.addContactMaterial(slippery_ground_cm)\n\n    // Character Collider\n    const characterCollider = new THREE.Object3D()\n    characterCollider.add(followCamPivot)\n    characterCollider.position.y = 3\n    scene.add(characterCollider)\n    const colliderShape = new CANNON.Sphere(0.5)\n    const colliderBody = new CANNON.Body({ mass: 1, material: slipperyMaterial })\n    colliderBody.addShape(colliderShape, new CANNON.Vec3(0, 0.5, 0))\n    colliderBody.addShape(colliderShape, new CANNON.Vec3(0, -0.5, 0))\n    colliderBody.position.set(\n      characterCollider.position.x,\n      characterCollider.position.y,\n      characterCollider.position.z\n    )\n    colliderBody.linearDamping = 0.95\n    colliderBody.angularFactor.set(0, 1, 0) // prevents rotation X,Z axis\n    world.addBody(colliderBody)\n\n    let mixer\n    let modelReady = false\n    let modelMesh\n    const animationActions = []\n    let activeAction\n    let lastAction\n\n    const gltfLoader = new GLTFLoader()\n    gltfLoader.load(\n      'models/eve.glb',\n      (gltf) => {\n        gltf.scene.traverse(function (child) {\n          if ((child).isMesh) {\n            let m = child\n            m.receiveShadow = true\n            m.castShadow = true\n            m.frustumCulled = false\n              ; (m).geometry.computeVertexNormals()\n            if ((child).material) {\n              const mat = (child).material\n                ; (mat).transparent = false\n                ; (mat).side = THREE.FrontSide\n            }\n          }\n        })\n        mixer = new THREE.AnimationMixer(gltf.scene)\n        let animationAction = mixer.clipAction(gltf.animations[0])\n        animationActions.push(animationAction)\n        activeAction = animationActions[0]\n        scene.add(gltf.scene)\n        modelMesh = gltf.scene\n        light1.target = modelMesh\n        light2.target = modelMesh\n\n        //add an animation from another file\n        gltfLoader.load(\n          'models/eve@walking.glb',\n          (gltf) => {\n            console.log('loaded Eve walking')\n            let animationAction = mixer.clipAction(gltf.animations[0])\n            animationActions.push(animationAction)\n\n            gltfLoader.load(\n              'models/eve@jump.glb',\n              (gltf) => {\n                console.log('loaded Eve jump')\n                gltf.animations[0].tracks.shift() //delete the specific track that moves the object up/down while jumping\n                let animationAction = mixer.clipAction(\n                  gltf.animations[0]\n                )\n                animationActions.push(animationAction)\n                //progressBar.style.display = 'none'\n                modelReady = true\n\n                setAction(animationActions[1], true)\n              },\n              (xhr) => {\n                if (xhr.lengthComputable) {\n                  //const percentComplete = (xhr.loaded / xhr.total) * 100\n                  //progressBar.value = percentComplete\n                  //progressBar.style.display = 'block'\n                }\n              },\n              (error) => {\n                console.log(error)\n              }\n            )\n          },\n          (xhr) => {\n            if (xhr.lengthComputable) {\n              //const percentComplete = (xhr.loaded / xhr.total) * 100\n              //progressBar.value = percentComplete\n              //progressBar.style.display = 'block'\n            }\n          },\n          (error) => {\n            console.log(error)\n          }\n        )\n      },\n      (xhr) => {\n        if (xhr.lengthComputable) {\n          //const percentComplete = (xhr.loaded / xhr.total) * 100\n          //progressBar.value = percentComplete\n          //progressBar.style.display = 'block'\n        }\n      },\n      (error) => {\n        console.log(error)\n      }\n    )\n\n    const setAction = (toAction, loop) => {\n      if (toAction != activeAction) {\n        lastAction = activeAction\n        activeAction = toAction\n        lastAction.fadeOut(0.1)\n        activeAction.reset()\n        activeAction.fadeIn(0.1)\n        activeAction.play()\n        if (!loop) {\n          activeAction.clampWhenFinished = true\n          activeAction.loop = THREE.LoopOnce\n        }\n      }\n    }\n\n    let moveForward = false\n    let moveBackward = false\n    let moveLeft = false\n    let moveRight = false\n    let canJump = true\n    const contactNormal = new CANNON.Vec3()\n    const upAxis = new CANNON.Vec3(0, 1, 0)\n    colliderBody.addEventListener('collide', function (e) {\n      const contact = e.contact\n      if (contact.bi.id == colliderBody.id) {\n        contact.ni.negate(contactNormal)\n      } else {\n        contactNormal.copy(contact.ni)\n      }\n      if (contactNormal.dot(upAxis) > 0.5) {\n        if (!canJump) {\n          setAction(animationActions[1], true)\n        }\n        canJump = true\n      }\n    })\n\n    const planeGeometry = new THREE.PlaneGeometry(100, 100)\n    const texture = new THREE.TextureLoader().load('img/grid.png')\n    const plane = new THREE.Mesh(\n      planeGeometry,\n      new THREE.MeshPhongMaterial({ map: texture })\n    )\n    plane.rotateX(-Math.PI / 2)\n    plane.receiveShadow = true\n    scene.add(plane)\n    const planeShape = new CANNON.Plane()\n    const planeBody = new CANNON.Body({ mass: 0, material: groundMaterial })\n    planeBody.addShape(planeShape)\n    planeBody.quaternion.setFromAxisAngle(new CANNON.Vec3(1, 0, 0), -Math.PI / 2)\n    world.addBody(planeBody)\n\n    const boxes = []\n    const boxMeshes = []\n    for (let i = 0; i < 10; i++) {\n      const halfExtents = new CANNON.Vec3(\n        Math.random() * 2,\n        Math.random() * 2,\n        Math.random() * 2\n      )\n      const boxShape = new CANNON.Box(halfExtents)\n      const boxGeometry = new THREE.BoxGeometry(\n        halfExtents.x * 2,\n        halfExtents.y * 2,\n        halfExtents.z * 2\n      )\n      const x = (Math.random() - 0.5) * 20\n      const y = 2 + i * 2\n      const z = (Math.random() - 0.5) * 20\n      const boxBody = new CANNON.Body({ mass: 1, material: groundMaterial })\n      boxBody.addShape(boxShape)\n      const boxMesh = new THREE.Mesh(boxGeometry, new THREE.MeshStandardMaterial())\n      world.addBody(boxBody)\n      scene.add(boxMesh)\n      boxBody.position.set(x, y, z)\n      boxMesh.castShadow = true\n      boxMesh.receiveShadow = true\n      boxes.push(boxBody)\n      boxMeshes.push(boxMesh)\n    }\n\n    const menuPanel = document.getElementById('menuPanel')\n    const startButton = document.getElementById('startButton')\n    startButton.addEventListener(\n      'click',\n      () => {\n        controls.lock()\n      },\n      false\n    )\n\n    const controls = new PointerLockControls(camera, renderer.domElement)\n\n    controls.addEventListener('lock', () => {\n      startButton.style.display = 'none'\n      menuPanel.style.display = 'none'\n\n      document.addEventListener('keydown', onDocumentKey, false)\n      document.addEventListener('keyup', onDocumentKey, false)\n\n      renderer.domElement.addEventListener(\n        'mousemove',\n        onDocumentMouseMove,\n        false\n      )\n      renderer.domElement.addEventListener(\n        'mousewheel',\n        onDocumentMouseWheel,\n        false\n      )\n    })\n\n    controls.addEventListener('unlock', () => {\n      menuPanel.style.display = 'block'\n\n      document.removeEventListener('keydown', onDocumentKey, false)\n      document.removeEventListener('keyup', onDocumentKey, false)\n\n      renderer.domElement.removeEventListener(\n        'mousemove',\n        onDocumentMouseMove,\n        false\n      )\n      renderer.domElement.removeEventListener(\n        'mousewheel',\n        onDocumentMouseWheel,\n        false\n      )\n\n      setTimeout(() => {\n        startButton.style.display = 'block'\n      }, 1000)\n    })\n\n    window.addEventListener('resize', onWindowResize, false)\n    function onWindowResize() {\n      camera.aspect = window.innerWidth / window.innerHeight\n      camera.updateProjectionMatrix()\n      renderer.setSize(window.innerWidth, window.innerHeight)\n      render()\n    }\n\n    const onDocumentMouseMove = (e) => {\n      followCamPivot.rotation.y -= e.movementX * 0.002\n      followCamPivot.rotation.x -= e.movementY * 0.002\n      return false\n    }\n\n    const onDocumentMouseWheel = (e) => {\n      let newVal = followCam.position.z + e.deltaY * 0.05\n      if (newVal > 0.25 && newVal < 10) {\n        followCam.position.z = newVal\n      }\n      return false\n    }\n\n    const keyMap = {}\n    const onDocumentKey = (e) => {\n      keyMap[e.code] = e.type === 'keydown'\n\n      if (controls.isLocked) {\n        moveForward = keyMap['KeyW']\n        moveBackward = keyMap['KeyS']\n        moveLeft = keyMap['KeyA']\n        moveRight = keyMap['KeyD']\n\n        if (keyMap['Space']) {\n          if (canJump === true) {\n            colliderBody.velocity.y = 10\n            setAction(animationActions[2], false)\n          }\n          canJump = false\n        }\n      }\n    }\n\n    const inputVelocity = new THREE.Vector3()\n    const velocity = new CANNON.Vec3()\n    const euler = new THREE.Euler()\n    const quat = new THREE.Quaternion()\n    const camTo = new THREE.Vector3()\n    const targetQuaternion = new THREE.Quaternion()\n    let distance = 0\n\n    // const stats = new Stats()\n    // document.body.appendChild(stats.dom)\n\n    const clock = new THREE.Clock()\n    let delta = 0\n\n    //const cannonDebugRenderer = new CannonDebugRenderer(scene, world)\n\n    function animate() {\n      requestAnimationFrame(animate)\n\n      if (modelReady) {\n        if (canJump) {\n          //walking\n          mixer.update(delta * distance * 5)\n        } else {\n          //were in the air\n          mixer.update(delta)\n        }\n        const p = characterCollider.position\n        p.y -= 1\n        modelMesh.position.y = characterCollider.position.y\n        distance = modelMesh.position.distanceTo(p)\n\n        const rotationMatrix = new THREE.Matrix4()\n        rotationMatrix.lookAt(p, modelMesh.position, modelMesh.up)\n        targetQuaternion.setFromRotationMatrix(rotationMatrix)\n\n        if (!modelMesh.quaternion.equals(targetQuaternion)) {\n          modelMesh.quaternion.rotateTowards(targetQuaternion, delta * 10)\n        }\n\n        if (canJump) {\n          inputVelocity.set(0, 0, 0)\n\n          if (moveForward) {\n            inputVelocity.z = -10 * delta\n          }\n          if (moveBackward) {\n            inputVelocity.z = 10 * delta\n          }\n\n          if (moveLeft) {\n            inputVelocity.x = -10 * delta\n          }\n          if (moveRight) {\n            inputVelocity.x = 10 * delta\n          }\n\n          // apply camera rotation to inputVelocity\n          euler.y = followCamPivot.rotation.y\n          euler.order = 'XYZ'\n          quat.setFromEuler(euler)\n          inputVelocity.applyQuaternion(quat)\n        }\n\n        modelMesh.position.lerp(characterCollider.position, 0.1)\n      }\n      velocity.set(inputVelocity.x, inputVelocity.y, inputVelocity.z)\n      colliderBody.applyImpulse(velocity)\n\n      delta = Math.min(clock.getDelta(), 0.1)\n      world.step(delta)\n\n      //cannonDebugRenderer.update()\n\n      characterCollider.position.set(\n        colliderBody.position.x,\n        colliderBody.position.y,\n        colliderBody.position.z\n      )\n      boxes.forEach((b, i) => {\n        boxMeshes[i].position.set(b.position.x, b.position.y, b.position.z)\n        boxMeshes[i].quaternion.set(\n          b.quaternion.x,\n          b.quaternion.y,\n          b.quaternion.z,\n          b.quaternion.w\n        )\n      })\n\n      followCam.getWorldPosition(camTo)\n      camera.position.lerpVectors(camera.position, camTo, 0.1)\n\n      render()\n\n      // stats.update()\n    }\n\n    function render() {\n      renderer.render(scene, camera)\n    }\n\n    animate()\n  }\n}\n</script>\n\n<style>\n\n#menuPanel {\n  position: fixed;\n  background-color: rgba(255, 255, 255, 0.5);\n  top: 100px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n}\n\n#startButton {\n  height: 50px;\n  width: 200px;\n  margin: -25px -100px;\n  position: relative;\n  top: 50%;\n  left: 50%;\n  font-size: 32px;\n}\n</style>","<template>\n  <div class=\"x-color-box\"></div>\n  <div class=\"y-color-box\"></div>\n  <div class=\"z-color-box\"></div>\n  <div class=\"x-axis-label\">X Axis</div>\n  <div class=\"y-axis-label\">Y Axis</div>\n  <div class=\"z-axis-label\">Z Axis</div>\n  <div class=\"nav-buttons\">\n\n    <router-link to=\"/threejsdemo/\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/' }\" @click=\"navigate()\">Follow Cam</button>\n    </router-link>\n\n    <router-link to=\"/threejsdemo/water\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/water' }\" @click=\"navigate()\">Water Boat</button>\n    </router-link>\n\n    <router-link to=\"/threejsdemo/a\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/a' }\" @click=\"navigate()\">Canon JS</button>\n    </router-link>\n\n    <router-link to=\"/threejsdemo/b\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/b' }\" @click=\"navigate()\">Convex Object</button>\n    </router-link>\n\n    <router-link to=\"/threejsdemo/multicoloredsphere\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/multicoloredsphere' }\"\n        @click=\"navigate()\">Multicolored Sphere</button>\n    </router-link>\n\n    <router-link to=\"/threejsdemo/secondpage\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/secondpage' }\" @click=\"navigate()\">Second\n        Page</button>\n    </router-link>\n\n    <router-link to=\"/threejsdemo/about\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/about' }\" @click=\"navigate()\">Select Box</button>\n    </router-link>\n\n    <router-link to=\"/threejsdemo/edgedetect\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/edgedetect' }\" @click=\"navigate()\">Edge Detect</button>\n    </router-link>\n\n    <router-link to=\"/threejsdemo/shadersocean\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/shadersocean' }\" @click=\"navigate()\">Shaders Ocean</button>\n    </router-link>\n\n    <router-link to=\"/threejsdemo/game\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/game' }\" @click=\"navigate()\">Shoot Game</button>\n    </router-link>\n\n    <router-link to=\"/threejsdemo/temp\" exact exact-active-class=\"active\" active-class=\"inactive\" v-slot=\"{ navigate }\">\n      <button class=\"nav-button\" :class=\"{ active: $route.path === '/threejsdemo/temp' }\" @click=\"navigate()\">Temp Page</button>\n    </router-link>\n  </div>\n</template>\n","import { render } from \"./NavMenu.vue?vue&type=template&id=482b9115\"\nconst script = {}\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HomePage.vue?vue&type=template&id=31123421\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=31123421&lang=css\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>Home Page</h1>\n    <nav-menu />\n  </div>\n</template>\n<script>\nimport * as MYCONST from '@/const.js';\nimport NavMenu from '@/components/NavMenu.vue'\nimport * as THREE from 'three'\n// import { OrbitControls } from 'three/addons/controls/OrbitControls.js';\n// import Stats from 'three/addons/libs/stats.module.js';\nimport { SelectionBox } from 'three/addons/interactive/SelectionBox.js';\nimport { SelectionHelper } from 'three/addons/interactive/SelectionHelper.js';\n\nexport default {\n  name: 'AboutPage',\n  components: {\n    NavMenu\n  },\n  mounted() {\n    let camera, scene, renderer;\n    let currentpage = this.$el;\n    init();\n    animate();\n\n    function init() {\n      camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 5000 );\n      camera.position.z = 1000;\n      scene = new THREE.Scene();\n      //scene.background = new THREE.Color( 0xf0f0f0 );\n      scene.add( new THREE.AmbientLight( 0x505050 ) );\n\n      const light = new THREE.SpotLight( 0xffffff, 1.5 );\n      light.position.set( 0, 500, 2000 );\n      light.angle = Math.PI / 9;\n\n      light.castShadow = true;\n      light.shadow.camera.near = 1000;\n      light.shadow.camera.far = 4000;\n      light.shadow.mapSize.width = 1024;\n      light.shadow.mapSize.height = 1024;\n\n      scene.add( light );\n\n      const geometry = new THREE.BoxGeometry( 20, 20, 20 );\n\n      for ( let i = 0; i < 400; i ++ ) {\n        const object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: Math.random() * 0xffffff } ) );\n\n        object.position.x = Math.random() * 1600 - 800;\n        object.position.y = Math.random() * 900 - 450;\n        object.position.z = Math.random() * 900 - 500;\n\n        object.rotation.x = Math.random() * 2 * Math.PI;\n        object.rotation.y = Math.random() * 2 * Math.PI;\n        object.rotation.z = Math.random() * 2 * Math.PI;\n\n        object.scale.x = Math.random() * 2 + 1;\n        object.scale.y = Math.random() * 2 + 1;\n        object.scale.z = Math.random() * 2 + 1;\n\n        object.castShadow = true;\n        object.receiveShadow = true;\n\n        scene.add( object );\n      }\n\n      renderer = new THREE.WebGLRenderer( { antialias: true } );\n      renderer.setPixelRatio( window.devicePixelRatio );\n      renderer.setSize( window.innerWidth, window.innerHeight );\n\n      renderer.shadowMap.enabled = true;\n      renderer.shadowMap.type = THREE.PCFShadowMap;\n      renderer.setClearColor(MYCONST.RENDERER_CLEAR_COLOR);\n      // const controls = new OrbitControls( camera, renderer.domElement );\n      currentpage.appendChild( renderer.domElement );\n\n      // stats = new Stats();\n      // container.appendChild( stats.dom );\n\n      window.addEventListener( 'resize', onWindowResize );\n    }\n    function onWindowResize() {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize( window.innerWidth, window.innerHeight );\n    }\n\n    function animate() {\n      requestAnimationFrame( animate );\n      // controls.update();\n      render();\n    }\n\n    function render() {\n      renderer.render( scene, camera );\n    }\n\n    const selectionBox = new SelectionBox( camera, scene );\n    const helper = new SelectionHelper( renderer, 'selectBox' );\n\n    document.addEventListener( 'pointerdown', function ( event ) {\n      for ( const item of selectionBox.collection ) {\n        item.material.emissive.set( 0x000000 );\n      }\n\n      selectionBox.startPoint.set(\n        ( event.clientX / window.innerWidth ) * 2 - 1,\n        - ( event.clientY / window.innerHeight ) * 2 + 1,\n        0.5 );\n    } );\n\n    document.addEventListener( 'pointermove', function ( event ) {\n      if ( helper.isDown ) {\n        for ( let i = 0; i < selectionBox.collection.length; i ++ ) {\n          selectionBox.collection[ i ].material.emissive.set( 0x000000 );\n        }\n\n        selectionBox.endPoint.set(\n          ( event.clientX / window.innerWidth ) * 2 - 1,\n          - ( event.clientY / window.innerHeight ) * 2 + 1,\n          0.5 );\n\n        const allSelected = selectionBox.select();\n\n        for ( let i = 0; i < allSelected.length; i ++ ) {\n          allSelected[ i ].material.emissive.set( 0xff0000 );\n        }\n      }\n    } );\n\n    document.addEventListener( 'pointerup', function ( event ) {\n      selectionBox.endPoint.set(\n        ( event.clientX / window.innerWidth ) * 2 - 1,\n        - ( event.clientY / window.innerHeight ) * 2 + 1,\n        0.5 );\n\n      const allSelected = selectionBox.select();\n\n      for ( let i = 0; i < allSelected.length; i ++ ) {\n        allSelected[ i ].material.emissive.set( 0xff0000 );\n      }\n\n    });\n  },\n}\n</script>\n<style>\n  .selectBox {\n    border: 1px solid red;\n    background-color: rgba(255, 0, 0, 0.3);\n    position: fixed;\n  }\n</style>","export const RENDERER_CLEAR_COLOR = 0xcccccc;","import { render } from \"./AboutPage.vue?vue&type=template&id=e989e2fc\"\nimport script from \"./AboutPage.vue?vue&type=script&lang=js\"\nexport * from \"./AboutPage.vue?vue&type=script&lang=js\"\n\nimport \"./AboutPage.vue?vue&type=style&index=0&id=e989e2fc&lang=css\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>Create Multicolored Sphere in Threejs</h1>\n    <nav-menu />\n  </div>\n</template>\n<script>\nimport * as MYCONST from '@/const.js';\nimport NavMenu from '@/components/NavMenu.vue'\nimport * as THREE from 'three'\nimport { OrbitControls } from 'three/addons/controls/OrbitControls.js';\nexport default {\n  name: 'FirstPage',\n  components: {\n    NavMenu\n  },\n  mounted() {\n      const scene = new THREE.Scene();\n      \n      const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );\n      const renderer = new THREE.WebGLRenderer();\n      renderer.setClearColor(MYCONST.RENDERER_CLEAR_COLOR);\n      renderer.setSize( window.innerWidth, window.innerHeight );\n      \n      this.$el.appendChild( renderer.domElement );\n\n      const controls = new OrbitControls( camera, renderer.domElement );\n\n      const axesHelper = new THREE.AxesHelper( 10 );\n      scene.add( axesHelper );\n\n      // const geometry = new THREE.BoxGeometry();\n      // const material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );\n      // const cube = new THREE.Mesh( geometry, material );\n      // scene.add( cube );\n      const size = 10;\n      const divisions = 10;\n\n      const gridHelper = new THREE.GridHelper( size, divisions );\n      scene.add( gridHelper );\n      // const geometryp = new THREE.PlaneGeometry( 10, 10 );\n      // const materialp = new THREE.MeshBasicMaterial( {color: 0x444400, side: THREE.DoubleSide} );\n      // const plane = new THREE.Mesh( geometryp, materialp );\n      // plane.rotateX(Math.PI/2);\n      // scene.add( plane );\n\n      camera.position.set(5,5,5);\n\n      var sphereMesh;\n      const createsphere = function () {\n        const radius = 4;\n        const widthSegments = 32;\n        const heightSegments = 32;\n        const sphereGeometry = new THREE.SphereGeometry(radius, widthSegments, heightSegments);\n        var rainbowColors = [\n          0xff0000, // Đỏ\n          0xffa500, // Cam\n          0xffff00, // Vàng\n          0x00ff00, // Xanh lá\n          0x0000ff, // Xanh dương\n          0x4b0082, // Xanh da trời\n          0xee82ee  // Tím\n        ];\n        const colors = new Array(sphereGeometry.attributes.position.count).fill().map(() =>\n            new THREE.Color().setHex(rainbowColors[Math.floor(Math.random() * rainbowColors.length)])\n        );\n        const colorAttribute = new THREE.Float32BufferAttribute(colors.flatMap(color => color.toArray()), 3);\n        sphereGeometry.setAttribute('color', colorAttribute);\n        const material = new THREE.MeshBasicMaterial({ vertexColors: true });\n        sphereMesh = new THREE.Mesh(sphereGeometry, material);\n        // sphereMesh.position.set(0,3,0);\n        scene.add(sphereMesh);\n      }\n      createsphere();\n\n      const animate = function () {\n        requestAnimationFrame( animate );\n        controls.update();\n        sphereMesh.rotation.y += 0.02;\n        sphereMesh.rotation.x += 0.02;\n        renderer.render( scene, camera );\n      };\n      animate();\n      function onWindowResize() {\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n      }\n      window.addEventListener('resize', onWindowResize);\n    }\n  }\n</script>\n","import { render } from \"./FirstPage.vue?vue&type=template&id=4a92ac70\"\nimport script from \"./FirstPage.vue?vue&type=script&lang=js\"\nexport * from \"./FirstPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div class=\"note-text\">Using mouse move and mouse click</div>\n    <h1>Create particle system in Threejs</h1>\n    <nav-menu />\n  </div>\n</template>\n<script>\nimport * as MYCONST from '@/const.js';\nimport NavMenu from '@/components/NavMenu.vue'\nimport * as THREE from 'three'\nimport { OrbitControls } from 'three/addons/controls/OrbitControls.js';\n//import TWEEN from '@tweenjs/tween.js'\nexport default {\n  name: 'SecondPage',\n  components: {\n    NavMenu\n  },\n  mounted() {\n    // Khởi tạo scene, camera, renderer\n    var scene = new THREE.Scene();\n    var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.set(5,1,5);\n    var renderer = new THREE.WebGLRenderer();\n    renderer.setClearColor(MYCONST.RENDERER_CLEAR_COLOR);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    this.$el.appendChild(renderer.domElement);\n\n    const controls = new OrbitControls( camera, renderer.domElement );\n\n    const axesHelper = new THREE.AxesHelper( 10 );\n    scene.add( axesHelper );\n\n    // const geometryp = new THREE.PlaneGeometry( 2, 2 );\n    // const materialp = new THREE.MeshBasicMaterial( {color: 0xff0, side: THREE.DoubleSide} );\n    // const plane = new THREE.Mesh( geometryp, materialp );\n    // plane.rotateX(Math.PI/2);\n    // scene.add( plane );\n    const size = 10;\n    const divisions = 10;\n\n    const gridHelper = new THREE.GridHelper( size, divisions );\n    scene.add( gridHelper );\n\n    const particleGeometry = new THREE.BufferGeometry();\n\n    // generate random positions for each particle\n    const positions = [];\n    // const colors = [];\n    for (let i = 0; i < 100; i++) {\n      positions.push(\n        THREE.MathUtils.randFloatSpread(20),\n        THREE.MathUtils.randFloatSpread(20),\n        THREE.MathUtils.randFloatSpread(20)\n      );\n      // // add a random color for the particle\n      // colors.push(\n      //   Math.random(), // r\n      //   Math.random(), // g\n      //   Math.random(), // b\n      //   1 // a\n      // );\n    }\n\n    // create a buffer attribute for the particle positions\n    const positionAttribute = new THREE.Float32BufferAttribute(positions, 3);\n    particleGeometry.setAttribute('position', positionAttribute);\n\n    // // create a buffer attribute for the particle colors\n    // const colorAttribute = new THREE.Float32BufferAttribute(colors, 4);\n    // particleGeometry.setAttribute('color', colorAttribute);\n\n    // create a particle material\n    const particleMaterial = new THREE.PointsMaterial();\n\n    // create a particle system and add it to the scene\n    const particleSystem = new THREE.Points(particleGeometry, particleMaterial);\n    scene.add(particleSystem);\n\n    // // Khởi tạo audio listener\n    // var listener = new THREE.AudioListener();\n    // camera.add(listener);\n\n    // // Tải âm thanh\n    // var audioLoader = new THREE.AudioLoader();\n    // var sound;\n    // audioLoader.load('sound.mp3', function(buffer) {\n    //     sound = new THREE.Audio(listener);\n    //     sound.setBuffer(buffer);\n    //     sound.setLoop(true);\n    //     sound.setVolume(0.5);\n    //     sound.play();\n    // });\n\n    // Thêm sự kiện mousemove để thay đổi background\n    document.addEventListener('mousemove', function(event) {\n        var mouseX = event.clientX;\n        var mouseY = event.clientY;\n\n        // Di chuyển particle theo vị trí của chuột\n        particleSystem.rotation.x += 0.02;\n        particleSystem.rotation.y += 0.02;\n        particleSystem.position.x = (mouseX / window.innerWidth) * 2 - 1;\n        particleSystem.position.y = -(mouseY / window.innerHeight) * 2 + 1;\n\n        // Thay đổi màu nền dựa trên vị trí của particle\n        var color = new THREE.Color(0xffffff);\n        color.r = particleSystem.position.x * 0.5 + 0.5;\n        color.g = particleSystem.position.y * 0.5 + 0.5;\n        renderer.setClearColor(color);\n    });\n    var bSplat = false;\n    document.addEventListener('click', (event) => {\n      // calculate mouse position in normalized device coordinates\n      const mouse = new THREE.Vector2();\n      mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n\n      // unproject mouse position into particleSystem's local coordinate system\n      const raycaster = new THREE.Raycaster();\n      raycaster.setFromCamera(mouse, camera);\n      const particleSystemWorldPosition = new THREE.Vector3();\n      particleSystem.getWorldPosition(particleSystemWorldPosition);\n      const particleSystemWorldQuaternion = new THREE.Quaternion();\n      particleSystem.getWorldQuaternion(particleSystemWorldQuaternion);\n      const particleSystemWorldScale = new THREE.Vector3();\n      particleSystem.getWorldScale(particleSystemWorldScale);\n      const particleSystemMatrixWorld = new THREE.Matrix4();\n      particleSystemMatrixWorld.compose(\n        particleSystemWorldPosition,\n        particleSystemWorldQuaternion,\n        particleSystemWorldScale\n      );\n      var particleSystemInverseMatrixWorld = new THREE.Matrix4();\n      particleSystemInverseMatrixWorld = particleSystemMatrixWorld;\n      particleSystemInverseMatrixWorld.invert();\n      const particleSystemLocalRaycaster = new THREE.Raycaster();\n      particleSystemLocalRaycaster.ray.copy(raycaster.ray);\n      particleSystemLocalRaycaster.ray.applyMatrix4(particleSystemInverseMatrixWorld);\n      const intersection = particleSystemLocalRaycaster.intersectObject(particleSystem);\n      if (intersection.length > 0) {\n        // update particle positions\n        const positionAttribute = particleGeometry.getAttribute('position');\n        if (!bSplat) {\n          const array0 = new Float32Array(positionAttribute.count * 3);\n          for (let i = 0; i < positionAttribute.count * 3; i+=3) {\n            array0[i] = positionAttribute.getX(i/3);\n            array0[i+1] = 0;\n            array0[i+2] = positionAttribute.getZ(i/3);\n\n          }\n          positionAttribute.array = array0; // cập nhật vị trí mới\n          positionAttribute.needsUpdate = true; // cập nhật thay đổi\n          bSplat = true;\n        } else {\n          const array1 = new Float32Array(positionAttribute.count * 3);\n          for (let i = 0; i < positionAttribute.count * 3; i++) {\n            array1[i] = THREE.MathUtils.randFloatSpread(20);\n          }\n          positionAttribute.array = array1; // cập nhật vị trí mới\n          positionAttribute.needsUpdate = true; // cập nhật thay đổi\n          bSplat = false;\n        }\n\n      }\n    });\n\n    // Render scene\n    function animate() {\n        requestAnimationFrame(animate);\n        controls.update();\n        //TWEEN.update();\n        renderer.render(scene, camera);\n    }\n    animate();\n    function onWindowResize() {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n    window.addEventListener('resize', onWindowResize);\n  }\n}\n</script>","import { render } from \"./SecondPage.vue?vue&type=template&id=63a93574\"\nimport script from \"./SecondPage.vue?vue&type=script&lang=js\"\nexport * from \"./SecondPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>Create Temp Page in Threejs</h1>\n    <nav-menu />\n  </div>\n</template>\n<script>\nimport * as MYCONST from '@/const.js';\nimport NavMenu from '@/components/NavMenu.vue'\nimport * as THREE from 'three'\nimport { OrbitControls } from 'three/addons/controls/OrbitControls.js';\nexport default {\n  name: 'TempPage',\n  components: {\n    NavMenu\n  },\n  mounted() {\n      const scene = new THREE.Scene();\n      \n      const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );\n      const renderer = new THREE.WebGLRenderer();\n      renderer.setClearColor(MYCONST.RENDERER_CLEAR_COLOR);\n      renderer.setSize( window.innerWidth, window.innerHeight );\n      \n      this.$el.appendChild( renderer.domElement );\n\n      const controls = new OrbitControls( camera, renderer.domElement );\n\n      const axesHelper = new THREE.AxesHelper( 10 );\n      scene.add( axesHelper );\n\n      camera.position.set(5,5,5);\n\n      const animate = function () {\n        requestAnimationFrame( animate );\n        controls.update();\n        renderer.render( scene, camera );\n      };\n      animate();\n      function onWindowResize() {\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n      }\n      window.addEventListener('resize', onWindowResize);\n  }\n}\n</script>\n","import { render } from \"./TempPage.vue?vue&type=template&id=a087a844\"\nimport script from \"./TempPage.vue?vue&type=script&lang=js\"\nexport * from \"./TempPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <h1>Physics with Cannon in Threejs</h1>\n        <nav-menu />\n        <div id=\"my-gui-container\"></div>\n        <!-- <div id=\"my-stats-container\"></div> -->\n    </div>\n</template>\n<script>\nimport * as MYCONST from '@/const.js';\nimport NavMenu from '@/components/NavMenu.vue'\nimport * as THREE from 'three'\nimport { OrbitControls } from 'three/addons/controls/OrbitControls.js';\n// import Stats from 'three/examples/jsm/libs/stats.module'\nimport { GUI } from 'dat.gui'\nimport * as CANNON from 'cannon-es'\n\nlet gui;\nexport default {\n    name: 'APage',\n    components: {\n        NavMenu\n    },\n    unmounted() {\n        if (gui) gui.destroy();\n        gui = null;\n    },\n    mounted() {\n        const scene = new THREE.Scene();\n\n        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer();\n        renderer.setClearColor(MYCONST.RENDERER_CLEAR_COLOR);\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.shadowMap.enabled = true\n        this.$el.appendChild(renderer.domElement);\n\n        const controls = new OrbitControls(camera, renderer.domElement);\n        controls.enableDamping = true\n        controls.target.y = 0.5\n\n        const axesHelper = new THREE.AxesHelper(10);\n        scene.add(axesHelper);\n\n        camera.position.set(0, 4, 6)\n        //\n        const light1 = new THREE.SpotLight()\n        light1.position.set(2.5, 5, 5)\n        light1.angle = Math.PI / 4\n        light1.penumbra = 0.5\n        light1.castShadow = true\n        light1.shadow.mapSize.width = 1024\n        light1.shadow.mapSize.height = 1024\n        light1.shadow.camera.near = 0.5\n        light1.shadow.camera.far = 20\n        scene.add(light1)\n\n        const light2 = new THREE.SpotLight()\n        light2.position.set(-2.5, 5, 5)\n        light2.angle = Math.PI / 4\n        light2.penumbra = 0.5\n        light2.castShadow = true\n        light2.shadow.mapSize.width = 1024\n        light2.shadow.mapSize.height = 1024\n        light2.shadow.camera.near = 0.5\n        light2.shadow.camera.far = 20\n        scene.add(light2)\n\n        const world = new CANNON.World()\n        world.gravity.set(0, -9.82, 0)\n\n        const normalMaterial = new THREE.MeshNormalMaterial()\n        const phongMaterial = new THREE.MeshPhongMaterial()\n\n        const cubeGeometry = new THREE.BoxGeometry(1, 1, 1)\n        const cubeMesh = new THREE.Mesh(cubeGeometry, normalMaterial)\n        cubeMesh.position.x = -3\n        cubeMesh.position.y = 3\n        cubeMesh.castShadow = true\n        scene.add(cubeMesh)\n        const cubeShape = new CANNON.Box(new CANNON.Vec3(0.5, 0.5, 0.5))\n        const cubeBody = new CANNON.Body({ mass: 1 })\n        cubeBody.addShape(cubeShape)\n        cubeBody.position.x = cubeMesh.position.x\n        cubeBody.position.y = cubeMesh.position.y\n        cubeBody.position.z = cubeMesh.position.z\n        world.addBody(cubeBody)\n\n        const sphereGeometry = new THREE.SphereGeometry()\n        const sphereMesh = new THREE.Mesh(sphereGeometry, normalMaterial)\n        sphereMesh.position.x = -1\n        sphereMesh.position.y = 3\n        sphereMesh.castShadow = true\n        scene.add(sphereMesh)\n        const sphereShape = new CANNON.Sphere(1)\n        const sphereBody = new CANNON.Body({ mass: 1 })\n        sphereBody.addShape(sphereShape)\n        sphereBody.position.x = sphereMesh.position.x\n        sphereBody.position.y = sphereMesh.position.y\n        sphereBody.position.z = sphereMesh.position.z\n        world.addBody(sphereBody)\n\n        const icosahedronGeometry = new THREE.IcosahedronGeometry(1, 0)\n        const icosahedronMesh = new THREE.Mesh(icosahedronGeometry, normalMaterial)\n        icosahedronMesh.position.x = 1\n        icosahedronMesh.position.y = 3\n        icosahedronMesh.castShadow = true\n        scene.add(icosahedronMesh)\n        const position = (\n            icosahedronMesh.geometry.attributes.position\n        ).array\n        const icosahedronPoints = []\n        for (let i = 0; i < position.length; i += 3) {\n            icosahedronPoints.push(\n                new CANNON.Vec3(position[i], position[i + 1], position[i + 2])\n            )\n        }\n        const icosahedronFaces = []\n        for (let i = 0; i < position.length / 3; i += 3) {\n            icosahedronFaces.push([i, i + 1, i + 2])\n        }\n        const icosahedronShape = new CANNON.ConvexPolyhedron({\n            vertices: icosahedronPoints,\n            faces: icosahedronFaces,\n        })\n        const icosahedronBody = new CANNON.Body({ mass: 1 })\n        icosahedronBody.addShape(icosahedronShape)\n        icosahedronBody.position.x = icosahedronMesh.position.x\n        icosahedronBody.position.y = icosahedronMesh.position.y\n        icosahedronBody.position.z = icosahedronMesh.position.z\n        world.addBody(icosahedronBody)\n\n        const torusKnotGeometry = new THREE.TorusKnotGeometry()\n        const torusKnotMesh = new THREE.Mesh(torusKnotGeometry, normalMaterial)\n        torusKnotMesh.position.x = 4\n        torusKnotMesh.position.y = 3\n        torusKnotMesh.castShadow = true\n        scene.add(torusKnotMesh)\n        const torusKnotShape = CreateTrimesh(torusKnotMesh.geometry)\n        const torusKnotBody = new CANNON.Body({ mass: 1 })\n        torusKnotBody.addShape(torusKnotShape)\n        torusKnotBody.position.x = torusKnotMesh.position.x\n        torusKnotBody.position.y = torusKnotMesh.position.y\n        torusKnotBody.position.z = torusKnotMesh.position.z\n        world.addBody(torusKnotBody)\n\n        function CreateTrimesh(geometry) {\n            const vertices = (geometry.attributes.position)\n                .array\n            const indices = Object.keys(vertices).map(Number)\n            return new CANNON.Trimesh(vertices, indices)\n        }\n\n        const planeGeometry = new THREE.PlaneGeometry(25, 25)\n        const planeMesh = new THREE.Mesh(planeGeometry, phongMaterial)\n        planeMesh.rotateX(-Math.PI / 2)\n        planeMesh.receiveShadow = true\n        scene.add(planeMesh)\n        const planeShape = new CANNON.Plane()\n        const planeBody = new CANNON.Body({ mass: 0 })\n        planeBody.addShape(planeShape)\n        planeBody.quaternion.setFromAxisAngle(new CANNON.Vec3(1, 0, 0), -Math.PI / 2)\n        world.addBody(planeBody)\n\n        //   const stats = new Stats({ autoPlace: false })\n        //   //this.$el.appendChild(stats.dom)\n        //   var statsContainer = document.getElementById('my-stats-container');\n        //   statsContainer.appendChild(stats.domElement);\n\n        gui = new GUI({ autoPlace: false });\n        var customContainer = document.getElementById('my-gui-container');\n        customContainer.appendChild(gui.domElement);\n        const physicsFolder = gui.addFolder('Physics')\n        physicsFolder.add(world.gravity, 'x', -10.0, 10.0, 0.1)\n        physicsFolder.add(world.gravity, 'y', -10.0, 10.0, 0.1)\n        physicsFolder.add(world.gravity, 'z', -10.0, 10.0, 0.1)\n        physicsFolder.open()\n        const clock = new THREE.Clock()\n        let delta\n        //\n        function animate() {\n            requestAnimationFrame(animate)\n\n            controls.update()\n\n            //delta = clock.getDelta()\n            delta = Math.min(clock.getDelta(), 0.1)\n            world.step(delta)\n\n            // Copy coordinates from Cannon to Three.js\n            cubeMesh.position.set(\n                cubeBody.position.x,\n                cubeBody.position.y,\n                cubeBody.position.z\n            )\n            cubeMesh.quaternion.set(\n                cubeBody.quaternion.x,\n                cubeBody.quaternion.y,\n                cubeBody.quaternion.z,\n                cubeBody.quaternion.w\n            )\n            sphereMesh.position.set(\n                sphereBody.position.x,\n                sphereBody.position.y,\n                sphereBody.position.z\n            )\n            sphereMesh.quaternion.set(\n                sphereBody.quaternion.x,\n                sphereBody.quaternion.y,\n                sphereBody.quaternion.z,\n                sphereBody.quaternion.w\n            )\n            icosahedronMesh.position.set(\n                icosahedronBody.position.x,\n                icosahedronBody.position.y,\n                icosahedronBody.position.z\n            )\n            icosahedronMesh.quaternion.set(\n                icosahedronBody.quaternion.x,\n                icosahedronBody.quaternion.y,\n                icosahedronBody.quaternion.z,\n                icosahedronBody.quaternion.w\n            )\n            torusKnotMesh.position.set(\n                torusKnotBody.position.x,\n                torusKnotBody.position.y,\n                torusKnotBody.position.z\n            )\n            torusKnotMesh.quaternion.set(\n                torusKnotBody.quaternion.x,\n                torusKnotBody.quaternion.y,\n                torusKnotBody.quaternion.z,\n                torusKnotBody.quaternion.w\n            )\n\n            render()\n\n            // stats.update()\n        }\n\n        function render() {\n            renderer.render(scene, camera)\n        }\n\n        animate()\n\n        function onWindowResize() {\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            render()\n        }\n        window.addEventListener('resize', onWindowResize);\n    }\n}\n</script>\n<style>\n#my-gui-container {\n    position: absolute;\n    top: 0px;\n    right: 120px;\n}\n\n/* #my-stats-container {\n    position: absolute;\n    top: 0px;\n    right: 200px;\n    } */\n</style>","import { render } from \"./APage.vue?vue&type=template&id=ae32e508\"\nimport script from \"./APage.vue?vue&type=script&lang=js\"\nexport * from \"./APage.vue?vue&type=script&lang=js\"\n\nimport \"./APage.vue?vue&type=style&index=0&id=ae32e508&lang=css\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div class=\"note-text\" style=\"color:red;\">A-W-S-D to move camera. Arrow key to move vehicle. Left click to shoot. Esc\n      to exit</div>\n    <h1 style=\"color:red;\">Create Convex Object Breaker in Threejs</h1>\n    <progress value=\"0\" max=\"100\" id=\"progressBar\"></progress>\n    <nav-menu />\n    <div id=\"menuPanel\">\n      <button id=\"startButton\">Click to Start</button>\n    </div>\n  </div>\n</template>\n<script>\n//import * as MYCONST from '@/const.js';\nimport NavMenu from '@/components/NavMenu.vue'\nimport * as THREE from 'three'\nimport { PointerLockControls } from 'three/examples/jsm/controls/PointerLockControls'\n// import Stats from 'three/examples/jsm/libs/stats.module'\nimport * as CANNON from 'cannon-es'\nimport CannonUtils from './utils/cannonUtils'\nimport { ConvexGeometry } from 'three/examples/jsm/geometries/ConvexGeometry'\nimport { ConvexObjectBreaker } from 'three/examples/jsm/misc/ConvexObjectBreaker'\nimport { Reflector } from 'three/examples/jsm/objects/Reflector'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport TWEEN from '@tweenjs/tween.js'\n// import { OrbitControls } from 'three/addons/controls/OrbitControls.js';\nexport default {\n  name: 'BPage',\n  components: {\n    NavMenu\n  },\n  mounted() {\n    const scene = new THREE.Scene();\n\n    const light1 = new THREE.DirectionalLight()\n    light1.position.set(20, 20, 20)\n    scene.add(light1)\n\n    const light2 = new THREE.DirectionalLight()\n    light2.position.set(-20, 20, 20)\n    scene.add(light2)\n\n    const camera = new THREE.PerspectiveCamera(\n      75,\n      window.innerWidth / window.innerHeight,\n      0.1,\n      1000\n    )\n\n    const renderer = new THREE.WebGLRenderer({ antialias: true })\n    //renderer.setClearColor(MYCONST.RENDERER_CLEAR_COLOR);\n    renderer.setSize(window.innerWidth, window.innerHeight)\n    this.$el.appendChild(renderer.domElement)\n\n    // const controlsOrbit = new OrbitControls(camera, renderer.domElement);\n    const progressBar = document.getElementById(\n      'progressBar'\n    )\n\n    const menuPanel = document.getElementById('menuPanel')\n    const startButton = document.getElementById('startButton')\n    startButton.addEventListener(\n      'click',\n      function () {\n        controls.lock()\n      },\n      false\n    )\n\n    const controls = new PointerLockControls(camera, renderer.domElement)\n    controls.addEventListener('lock', () => (menuPanel.style.display = 'none'))\n    controls.addEventListener('unlock', () => (menuPanel.style.display = 'block'))\n\n    camera.position.y = 1\n    camera.position.z = 4\n\n    // movement - please calibrate these values\n    // var xSpeed = 0.25;\n    // var ySpeed = 0.25;\n    let axisY = new THREE.Vector3(0, 1, 0);\n    let currentDir = new THREE.Vector3(0, 0, 1);\n\n    const onKeyDown = function (event) {\n      switch (event.key) {\n        case 'w':\n          controls.moveForward(0.25)\n          break\n        case 'a':\n          controls.moveRight(-0.25)\n          break\n        case 's':\n          controls.moveForward(-0.25)\n          break\n        case 'd':\n          controls.moveRight(0.25)\n          break\n        case 'ArrowRight':\n          {\n            currentDir.applyAxisAngle(axisY, -Math.PI / 10);\n            let _q = new THREE.Quaternion();\n            _q.setFromAxisAngle(axisY, -Math.PI / 10)\n            let tempRot = new THREE.Quaternion();\n            tempRot.copy(weapon.quaternion);\n            tempRot.multiply(_q);\n            new TWEEN.Tween(weapon.quaternion)\n              .to(\n                {\n                  _x: tempRot._x,\n                  _y: tempRot._y,\n                  _z: tempRot._z,\n                  _w: tempRot._w,\n                },\n                1000\n              )\n              .easing(TWEEN.Easing.Cubic.Out)\n              .start()\n          }\n          break\n        case 'ArrowLeft':\n          {\n            currentDir.applyAxisAngle(axisY, Math.PI / 10);\n            let _q = new THREE.Quaternion();\n            _q.setFromAxisAngle(axisY, Math.PI / 10)\n            let tempRot = new THREE.Quaternion();\n            tempRot.copy(weapon.quaternion);\n            tempRot.multiply(_q);\n            new TWEEN.Tween(weapon.quaternion)\n              .to(\n                {\n                  _x: tempRot._x,\n                  _y: tempRot._y,\n                  _z: tempRot._z,\n                  _w: tempRot._w,\n                },\n                1000\n              )\n              .easing(TWEEN.Easing.Cubic.Out)\n              .start()\n          }\n          break\n        case 'ArrowUp':\n          {\n            let tempPos = new THREE.Vector3()\n            tempPos.copy(weapon.position)\n            let tempDir = new THREE.Vector3(0, 0, 1)\n            tempDir.applyQuaternion(weapon.quaternion);\n            tempDir.y = 0;\n            tempPos.addScaledVector(tempDir, 0.5)\n            new TWEEN.Tween(weapon.position)\n              .to(\n                {\n                  x: tempPos.x,\n                  y: tempPos.y,\n                  z: tempPos.z,\n                },\n                1000\n              )\n              .easing(TWEEN.Easing.Cubic.Out)\n              .start()\n          }\n          break\n        case 'ArrowDown':\n          {\n            let tempPos = new THREE.Vector3()\n            tempPos.copy(weapon.position)\n            let tempDir = new THREE.Vector3(0, 0, 1)\n            tempDir.applyQuaternion(weapon.quaternion);\n            tempDir.y = 0;\n            tempPos.addScaledVector(tempDir, -0.5)\n            new TWEEN.Tween(weapon.position)\n              .to(\n                {\n                  x: tempPos.x,\n                  y: tempPos.y,\n                  z: tempPos.z,\n                },\n                1000\n              )\n              .easing(TWEEN.Easing.Cubic.Out)\n              .start()\n          }\n          break\n        case 'Space':\n          weapon.position.set(0, 0, 0);\n          break\n      }\n    }\n    document.addEventListener('keydown', onKeyDown, false)\n\n    const world = new CANNON.World()\n    world.gravity.set(0, -9.82, 0)\n    //;(world.solver as CANNON.GSSolver).iterations = 20\n    //world.allowSleep = true\n\n    const material = new THREE.MeshStandardMaterial({\n      //color: 0xa2ffb8,\n      color: 0xffffff,\n      //reflectivity: 0.15,\n      metalness: 1.0,\n      roughness: 0.25,\n      transparent: true,\n      opacity: 0.75,\n      //transmission: 1.0,\n      side: THREE.DoubleSide,\n      //clearcoat: 1.0,\n      //clearcoatRoughness: 0.35,\n    })\n\n    const pmremGenerator = new THREE.PMREMGenerator(renderer)\n    const envTexture = new THREE.TextureLoader().load(\n      'img/pano-equirectangular.jpg',\n      () => {\n        material.envMap = pmremGenerator.fromEquirectangular(envTexture).texture\n      }\n    )\n\n    const meshes = {}\n    const bodies = {}\n    let meshId = 0\n\n    const groundMirror = new Reflector(new THREE.PlaneGeometry(1024, 1024), {\n      color: new THREE.Color(0x222222),\n      clipBias: 0.003,\n      textureWidth: window.innerWidth * window.devicePixelRatio,\n      textureHeight: window.innerHeight * window.devicePixelRatio,\n    })\n    groundMirror.position.y = -0.05\n    groundMirror.rotateX(-Math.PI / 2)\n    scene.add(groundMirror)\n\n    const planeShape = new CANNON.Plane()\n    const planeBody = new CANNON.Body({ mass: 0 })\n    planeBody.addShape(planeShape)\n    planeBody.quaternion.setFromAxisAngle(new CANNON.Vec3(1, 0, 0), -Math.PI / 2)\n    world.addBody(planeBody)\n\n    const convexObjectBreaker = new ConvexObjectBreaker()\n\n    for (let i = 0; i < 20; i++) {\n      const size = {\n        x: Math.random() * 4 + 2,\n        y: Math.random() * 10 + 5,\n        z: Math.random() * 4 + 2,\n      }\n      const geo = new THREE.BoxGeometry(\n        size.x,\n        size.y,\n        size.z\n      )\n      const cube = new THREE.Mesh(geo, material)\n\n      cube.position.x = Math.random() * 50 - 25\n      cube.position.y = size.y / 2 + 0.1\n      cube.position.z = Math.random() * 50 - 25\n\n      if (Math.abs(cube.position.x - camera.position.x) < 5 && Math.abs(cube.position.z - camera.position.z) < 5) {\n        cube.position.x += 5;\n        cube.position.z += 5;\n      }\n\n      scene.add(cube)\n      meshes[meshId] = cube\n      convexObjectBreaker.prepareBreakableObject(\n        meshes[meshId],\n        1,\n        new THREE.Vector3(),\n        new THREE.Vector3(),\n        true\n      )\n\n      const cubeShape = new CANNON.Box(\n        new CANNON.Vec3(size.x / 2, size.y / 2, size.z / 2)\n      )\n      const cubeBody = new CANNON.Body({ mass: 1 })\n        ; (cubeBody).userData = { splitCount: 0, id: meshId }\n      cubeBody.addShape(cubeShape)\n      cubeBody.position.x = cube.position.x\n      cubeBody.position.y = cube.position.y\n      cubeBody.position.z = cube.position.z\n\n      world.addBody(cubeBody)\n      bodies[meshId] = cubeBody\n\n      meshId++\n    }\n\n    const bullets = {}\n    const bulletBodies = {}\n    let bulletId = 0\n\n    const bulletMaterial = new THREE.MeshPhysicalMaterial({\n      map: new THREE.TextureLoader().load('img/marble.png'),\n      clearcoat: 1.0,\n      clearcoatRoughness: 0,\n      clearcoatMap: null,\n      clearcoatRoughnessMap: null,\n      metalness: 0.4,\n      roughness: 0.3,\n      color: 'white',\n    })\n    document.addEventListener('click', onClick, false)\n    function onClick() {\n      if (controls.isLocked) {\n        const bullet = new THREE.Mesh(\n          new THREE.SphereGeometry(0.5, 16, 16),\n          bulletMaterial\n        )\n        bullet.position.copy(weapon.position)\n        bullet.position.y += 2\n        scene.add(bullet)\n        bullets[bulletId] = bullet\n\n        const bulletShape = new CANNON.Sphere(0.5)\n        const bulletBody = new CANNON.Body({ mass: 1 })\n        bulletBody.addShape(bulletShape)\n        bulletBody.position.x = weapon.position.x\n        bulletBody.position.y = weapon.position.y\n        bulletBody.position.z = weapon.position.z\n        bulletBody.position.y += 2\n\n        world.addBody(bulletBody)\n        bulletBodies[bulletId] = bulletBody\n\n        bulletBody.addEventListener('collide', (e) => {\n          if (e.body.userData) {\n            if (e.body.userData.splitCount < 2) {\n              splitObject(e.body.userData, e.contact)\n            }\n          }\n        })\n\n        //const v = raycaster.ray.direction.clone();\n        const v = new THREE.Vector3(0, 0, 1)\n        v.applyQuaternion(weapon.quaternion)\n        // const gunPos = new THREE.Vector3()\n        // gunPos.set(weapon.position.x, weapon.position.y+2, weapon.position.z)\n        //v.subVectors(pointS.position, gunPos).normalize();\n\n        // const v = new THREE.Vector3(0, 0, -1) // (0, 0 , -1) to shoot behind\n        // v.applyQuaternion(camera.quaternion)\n        // v.multiplyScalar(50)\n        v.multiplyScalar(50);\n        bulletBody.velocity.set(v.x, v.y, v.z)\n        bulletBody.angularVelocity.set(\n          Math.random() * 10 + 1,\n          Math.random() * 10 + 1,\n          Math.random() * 10 + 1\n        )\n\n        bulletId++\n\n        //remove old bullets\n        while (Object.keys(bullets).length > 5) {\n          scene.remove(bullets[bulletId - 6])\n          delete bullets[bulletId - 6]\n          world.removeBody(bulletBodies[bulletId - 6])\n          delete bulletBodies[bulletId - 6]\n        }\n      }\n    }\n\n    function splitObject(userData, contact) {\n      const contactId = userData.id\n      if (meshes[contactId]) {\n        const poi = bodies[contactId].pointToLocalFrame(\n          (contact.bj.position).vadd(contact.rj)\n        )\n        const n = new THREE.Vector3(\n          contact.ni.x,\n          contact.ni.y,\n          contact.ni.z\n        ).negate()\n        const shards = convexObjectBreaker.subdivideByImpact(\n          meshes[contactId],\n          new THREE.Vector3(poi.x, poi.y, poi.z),\n          n,\n          1,\n          0\n        )\n\n        scene.remove(meshes[contactId])\n        delete meshes[contactId]\n        world.removeBody(bodies[contactId])\n        delete bodies[contactId]\n\n        shards.forEach((d) => {\n          const nextId = meshId++\n\n          scene.add(d)\n          meshes[nextId] = d\n            ; (d).geometry.scale(0.99, 0.99, 0.99)\n          const shape = gemoetryToShape((d).geometry)\n\n          const body = new CANNON.Body({ mass: 1 })\n          body.addShape(shape)\n            ; (body).userData = {\n              splitCount: userData.splitCount + 1,\n              id: nextId,\n            }\n          body.position.x = d.position.x\n          body.position.y = d.position.y\n          body.position.z = d.position.z\n          body.quaternion.x = d.quaternion.x\n          body.quaternion.y = d.quaternion.y\n          body.quaternion.z = d.quaternion.z\n          body.quaternion.w = d.quaternion.w\n          world.addBody(body)\n          bodies[nextId] = body\n        })\n      }\n    }\n\n    function gemoetryToShape(geometry) {\n      const position = (geometry.attributes.position).array\n      const points = []\n      for (let i = 0; i < position.length; i += 3) {\n        points.push(\n          new THREE.Vector3(position[i], position[i + 1], position[i + 2])\n        )\n      }\n      const convexHull = new ConvexGeometry(points)\n      const shape = CannonUtils.CreateConvexPolyhedron(convexHull)\n      return shape\n    }\n\n    const mouse = new THREE.Vector2()\n    const raycaster = new THREE.Raycaster()\n    const geometryS = new THREE.SphereGeometry(0.05)\n    const materialS = new THREE.MeshBasicMaterial({ color: 0x000000 })\n    const pointS = new THREE.Mesh(geometryS, materialS)\n    scene.add(pointS)\n    pointS.visible = false;\n    const geometryT = new THREE.TorusGeometry(0.2, 0.01, 16, 100)\n    const materialT = new THREE.MeshBasicMaterial({ color: 0xff0000 })\n    const torus = new THREE.Mesh(geometryT, materialT)\n    scene.add(torus)\n    torus.visible = false;\n\n    renderer.domElement.addEventListener('mousemove', onMouseMove, false)\n    function onMouseMove(event) {\n      event.preventDefault()\n      mouse.set(\n        (event.clientX / window.innerWidth) * 2 - 1,\n        -(event.clientY / window.innerHeight) * 2 + 1\n      )\n\n      raycaster.setFromCamera(mouse, camera)\n\n      let arrayMeshs = [];\n      Object.keys(meshes).forEach((m) => {\n        arrayMeshs.push(meshes[m]);\n      })\n\n      const wall_intersects = raycaster.intersectObjects(arrayMeshs, false)\n\n      if (wall_intersects.length > 0) {\n\n        const n = new THREE.Vector3()\n        n.copy((wall_intersects[0].face).normal)\n        n.transformDirection(wall_intersects[0].object.matrixWorld)\n\n        // arrowHelper.setDirection(n)\n        // arrowHelper.position.copy(wall_intersects[0].point)\n        // arrowHelper.visible = true;\n        pointS.lookAt(n)\n        pointS.position.copy(wall_intersects[0].point)\n        pointS.position.addScaledVector(n, 0.1)\n        pointS.visible = true;\n\n        torus.lookAt(n)\n        torus.position.copy(wall_intersects[0].point)\n        torus.position.addScaledVector(n, 0.1)\n        torus.visible = true;\n        if (weapon) {\n          const rotationMatrix = new THREE.Matrix4()\n          //const rayDirection = raycaster.ray.direction.clone()\n          const direction = new THREE.Vector3()\n          const gunPos = new THREE.Vector3()\n          gunPos.set(weapon.position.x, weapon.position.y+2, weapon.position.z)\n          direction.subVectors(pointS.position, gunPos).normalize();\n          rotationMatrix.lookAt(weapon.position, weapon.position.clone().add(direction), weapon.up)\n          weapon.quaternion.setFromRotationMatrix(rotationMatrix);\n          weapon.rotateY(Math.PI)\n        }\n      }\n      else {\n        pointS.visible = false;\n        torus.visible = false;\n        if (weapon) {\n          const rotationMatrix = new THREE.Matrix4()\n          const rayDirection = raycaster.ray.direction.clone()\n          const pointB = new THREE.Vector3();\n          pointB.copy(camera.position).add(rayDirection.multiplyScalar(1000));\n          const direction = new THREE.Vector3()\n          const gunPos = new THREE.Vector3()\n          gunPos.set(weapon.position.x, weapon.position.y+2, weapon.position.z)\n          direction.subVectors(pointB, gunPos).normalize();\n\n          rotationMatrix.lookAt(weapon.position, weapon.position.clone().add(direction), weapon.up)\n          weapon.quaternion.setFromRotationMatrix(rotationMatrix);\n          weapon.rotateY(Math.PI)\n        }\n      }\n      arrayMeshs = [];\n    }\n\n    var weapon = null;\n    const loader = new GLTFLoader()\n    loader.load(\n      'models/artillery_military_weapon.glb',\n      function (gltf) {\n        progressBar.style.display = 'none'\n        gltf.scene.traverse(function (child) {\n          if ((child).isMesh) {\n            const m = child\n            m.receiveShadow = true\n            m.castShadow = true\n          }\n          if ((child).isLight) {\n            const l = child\n            l.castShadow = true\n            l.shadow.bias = -0.003\n            l.shadow.mapSize.width = 2048\n            l.shadow.mapSize.height = 2048\n          }\n        })\n        gltf.scene.scale.set(0.01, 0.01, 0.01)\n        weapon = gltf.scene;\n        weapon.rotateY(Math.PI);\n        scene.add(gltf.scene)\n      },\n      (xhr) => {\n        const percentComplete = (xhr.loaded / xhr.total) * 100\n        progressBar.value = percentComplete === Infinity ? 100 : percentComplete\n      },\n    )\n\n    window.addEventListener('resize', onWindowResize, false)\n    function onWindowResize() {\n      camera.aspect = window.innerWidth / window.innerHeight\n      camera.updateProjectionMatrix()\n      renderer.setSize(window.innerWidth, window.innerHeight)\n      render()\n    }\n    // const options = {\n    //   side: {\n    //     FrontSide: THREE.FrontSide,\n    //     BackSide: THREE.BackSide,\n    //     DoubleSide: THREE.DoubleSide,\n    //   },\n    // }\n\n    const clock = new THREE.Clock()\n    let delta\n\n    function animate() {\n      requestAnimationFrame(animate)\n\n      delta = clock.getDelta()\n      if (delta > 0.1) delta = 0.1\n      world.step(delta)\n\n      Object.keys(meshes).forEach((m) => {\n        meshes[m].position.set(\n          bodies[m].position.x,\n          bodies[m].position.y,\n          bodies[m].position.z\n        )\n        meshes[m].quaternion.set(\n          bodies[m].quaternion.x,\n          bodies[m].quaternion.y,\n          bodies[m].quaternion.z,\n          bodies[m].quaternion.w\n        )\n      })\n\n      Object.keys(bullets).forEach((b) => {\n        bullets[b].position.set(\n          bulletBodies[b].position.x,\n          bulletBodies[b].position.y,\n          bulletBodies[b].position.z\n        )\n        bullets[b].quaternion.set(\n          bulletBodies[b].quaternion.x,\n          bulletBodies[b].quaternion.y,\n          bulletBodies[b].quaternion.z,\n          bulletBodies[b].quaternion.w\n        )\n      })\n\n      // controlsOrbit.update();\n      TWEEN.update()\n\n      render()\n\n      // stats.update()\n    }\n\n    function render() {\n      renderer.render(scene, camera)\n    }\n\n    animate()\n  }\n}\n</script>\n<style>\n#progressBar {\n  width: 500px;\n  height: 24px;\n  position: absolute;\n  left: 50%;\n  top: 10px;\n  margin-left: -250px;\n}\n\n#menuPanel {\n  position: fixed;\n  background-color: rgba(255, 255, 255, 0.5);\n  top: 100px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n}\n\n#startButton {\n  height: 50px;\n  width: 200px;\n  margin: -25px -100px;\n  position: relative;\n  top: 50%;\n  left: 50%;\n  font-size: 32px;\n}\n</style>","//MIT License\r\n//Copyright (c) 2020-2021 Sean Bradley\r\nimport * as THREE from 'three'\r\nimport * as CANNON from 'cannon-es'\r\n\r\n// interface Face3 {\r\n//     a: number\r\n//     b: number\r\n//     c: number\r\n//     normals: THREE.Vector3[]\r\n// }\r\n\r\nclass CannonUtils {\r\n    static CreateTrimesh(\r\n        geometry\r\n    ) {\r\n        let vertices\r\n        if (geometry.index === null) {\r\n            vertices = (geometry.attributes.position).array\r\n        } else {\r\n            vertices = (geometry.clone().toNonIndexed().attributes.position).array\r\n        }\r\n        const indices = Object.keys(vertices).map(Number)\r\n        return new CANNON.Trimesh(vertices, indices)\r\n    }\r\n\r\n    static CreateConvexPolyhedron(\r\n        geometry\r\n    ) {\r\n        const position = geometry.attributes.position\r\n        const normal = geometry.attributes.normal\r\n        const vertices = []\r\n        for (let i = 0; i < position.count; i++) {\r\n            vertices.push(new THREE.Vector3().fromBufferAttribute(position, i))\r\n        }\r\n        const faces = []\r\n        for (let i = 0; i < position.count; i += 3) {\r\n            const vertexNormals =\r\n                normal === undefined\r\n                    ? []\r\n                    : [\r\n                          new THREE.Vector3().fromBufferAttribute(normal, i),\r\n                          new THREE.Vector3().fromBufferAttribute(\r\n                              normal,\r\n                              i + 1\r\n                          ),\r\n                          new THREE.Vector3().fromBufferAttribute(\r\n                              normal,\r\n                              i + 2\r\n                          ),\r\n                      ]\r\n            const face = {\r\n                a: i,\r\n                b: i + 1,\r\n                c: i + 2,\r\n                normals: vertexNormals,\r\n            }\r\n            faces.push(face)\r\n        }\r\n\r\n        const verticesMap = {}\r\n        const points = []\r\n        const changes = []\r\n        for (let i = 0, il = vertices.length; i < il; i++) {\r\n            const v = vertices[i]\r\n            const key =\r\n                Math.round(v.x * 100) +\r\n                '_' +\r\n                Math.round(v.y * 100) +\r\n                '_' +\r\n                Math.round(v.z * 100)\r\n            if (verticesMap[key] === undefined) {\r\n                verticesMap[key] = i\r\n                points.push(\r\n                    new CANNON.Vec3(vertices[i].x, vertices[i].y, vertices[i].z)\r\n                )\r\n                changes[i] = points.length - 1\r\n            } else {\r\n                changes[i] = changes[verticesMap[key]]\r\n            }\r\n        }\r\n\r\n        const faceIdsToRemove = []\r\n        for (let i = 0, il = faces.length; i < il; i++) {\r\n            const face = faces[i]\r\n            face.a = changes[face.a]\r\n            face.b = changes[face.b]\r\n            face.c = changes[face.c]\r\n            const indices = [face.a, face.b, face.c]\r\n            for (let n = 0; n < 3; n++) {\r\n                if (indices[n] === indices[(n + 1) % 3]) {\r\n                    faceIdsToRemove.push(i)\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let i = faceIdsToRemove.length - 1; i >= 0; i--) {\r\n            const idx = faceIdsToRemove[i]\r\n            faces.splice(idx, 1)\r\n        }\r\n\r\n        const cannonFaces = faces.map(function (f) {\r\n            return [f.a, f.b, f.c]\r\n        })\r\n\r\n        return new CANNON.ConvexPolyhedron({\r\n            vertices: points,\r\n            faces: cannonFaces,\r\n        })\r\n    }\r\n\r\n    static offsetCenterOfMass(\r\n        body,\r\n        centreOfMass\r\n    ) {\r\n        body.shapeOffsets.forEach(function (offset) {\r\n            centreOfMass.vadd(offset, centreOfMass)\r\n        })\r\n        centreOfMass.scale(1 / body.shapes.length, centreOfMass)\r\n        body.shapeOffsets.forEach(function (offset) {\r\n            offset.vsub(centreOfMass, offset)\r\n        })\r\n        const worldCenterOfMass = new CANNON.Vec3()\r\n        body.vectorToWorldFrame(centreOfMass, worldCenterOfMass)\r\n        body.position.vadd(worldCenterOfMass, body.position)\r\n    }\r\n}\r\n\r\nexport default CannonUtils","import { render } from \"./BPage.vue?vue&type=template&id=7d31cc7e\"\nimport script from \"./BPage.vue?vue&type=script&lang=js\"\nexport * from \"./BPage.vue?vue&type=script&lang=js\"\n\nimport \"./BPage.vue?vue&type=style&index=0&id=7d31cc7e&lang=css\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div id=\"boatData\"></div>\n    <div id=\"locationData\"></div>\n    <h1>Create Water in Threejs</h1>\n    <nav-menu />\n    <div id=\"my-gui-container\"></div>\n  </div>\n</template>\n<script>\n//import * as MYCONST from '@/const.js';\nimport NavMenu from '@/components/NavMenu.vue'\nimport * as THREE from 'three'\nimport { OrbitControls } from 'three/addons/controls/OrbitControls.js'\n//import Stats from '/jsm/libs/stats.module.js'\nimport { GUI } from 'dat.gui'\nimport { Sky } from 'three/examples/jsm/objects/Sky.js'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'\nimport Floater from './utils/floater.js'\nimport GerstnerWater from './utils/gerstnerWater.js'\n\nlet gui\nexport default {\n  name: 'WaterPage',\n  components: {\n    NavMenu\n  },\n  unmounted() {\n    if (gui) gui.destroy();\n    gui = null;\n  },\n  mounted() {\n    const scene = new THREE.Scene()\n\n    const earth = new THREE.Group()\n    scene.add(earth)\n\n    const renderer = new THREE.WebGLRenderer({ antialias: true })\n    renderer.setPixelRatio(window.devicePixelRatio)\n    renderer.setSize(window.innerWidth, window.innerHeight)\n    renderer.outputEncoding = THREE.sRGBEncoding\n    this.$el.appendChild(renderer.domElement)\n\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 50000)\n\n    let cameraLerp = false\n    let controlsChanging = false\n    const controls = new OrbitControls(camera, renderer.domElement)\n    controls.maxPolarAngle = Math.PI * 0.495;\n    controls.enableDamping = true\n    controls.maxDistance = 100\n    controls.addEventListener('start', () => {\n      controlsChanging = true\n      cameraLerp = false\n    })\n    controls.addEventListener('end', () => {\n      controlsChanging = false\n    })\n\n    const sun = new THREE.Vector3()\n\n    gui = new GUI({ autoPlace: false });\n    var customContainer = document.getElementById('my-gui-container');\n    customContainer.appendChild(gui.domElement);\n\n    const gerstnerWater = new GerstnerWater(gui)\n    earth.add(gerstnerWater.water)\n\n    const sky = new Sky()\n    sky.scale.setScalar(10000)\n    scene.add(sky)\n\n    const skyUniforms = sky.material.uniforms\n\n    skyUniforms['turbidity'].value = 10\n    skyUniforms['rayleigh'].value = 2\n    skyUniforms['mieCoefficient'].value = 0.005\n    skyUniforms['mieDirectionalG'].value = 0.8\n\n    // const parameters = {\n    //   elevation: 2,\n    //   azimuth: -7.7,\n    // }\n\n    // const pmremGenerator = new THREE.PMREMGenerator(renderer)\n\n    // function updateSun() {\n    //   const phi = THREE.MathUtils.degToRad(90 - parameters.elevation)\n    //   const theta = THREE.MathUtils.degToRad(parameters.azimuth)\n\n    //   sun.setFromSphericalCoords(1, phi, theta)\n\n    //   sky.material.uniforms['sunPosition'].value.copy(sun)\n    //   gerstnerWater.water.material.uniforms['sunDirection'].value.copy(sun)\n\n    //   scene.environment = pmremGenerator.fromScene(sky).texture\n    // }\n\n    // updateSun()\n\n    const parameters = {\n        elevation: 2,\n        azimuth: 180\n      };\n\n      const pmremGenerator = new THREE.PMREMGenerator(renderer);\n      let renderTarget;\n\n      function updateSun() {\n\n        const phi = THREE.MathUtils.degToRad(90 - parameters.elevation);\n        const theta = THREE.MathUtils.degToRad(parameters.azimuth);\n\n        sun.setFromSphericalCoords(1, phi, theta);\n\n        sky.material.uniforms['sunPosition'].value.copy(sun);\n        gerstnerWater.water.material.uniforms['sunDirection'].value.copy(sun).normalize();\n\n        if (renderTarget !== undefined) renderTarget.dispose();\n\n        renderTarget = pmremGenerator.fromScene(sky);\n\n        scene.environment = renderTarget.texture;\n\n      }\n\n      updateSun();\n\n    const divisor = -46080\n    const divisorMultiplier = 1.40625\n\n    // const planes = {}\n    // let visibleId = ''\n    let locationDataText = ''\n    const locationDataElem = document.getElementById('locationData')\n    // //const textureLoader = new THREE.TextureLoader()\n\n    // function makeVisible(layerId, divisor) {\n    //   const tileX = Math.floor(-earth.position.x / divisor)\n    //   const tileY = Math.floor(-earth.position.z / divisor)\n    //   let adjacentX = 0\n    //   let adjacentY = 0\n    //   if (tileX === Math.round(-earth.position.x / divisor)) {\n    //     adjacentX = tileX - 1\n    //   } else {\n    //     adjacentX = tileX + 1\n    //   }\n    //   if (tileY === Math.round(-earth.position.z / divisor)) {\n    //     adjacentY = tileY - 1\n    //   } else {\n    //     adjacentY = tileY + 1\n    //   }\n    //   visibleId = layerId + ',' + tileX + ',' + tileY\n    //   if (!planes[visibleId]) {\n    //     createPlane(layerId, tileX, tileY, divisor)\n    //   }\n    //   planes[visibleId].visible = true\n    //   visibleId = layerId + ',' + adjacentX + ',' + tileY\n    //   if (!planes[visibleId]) {\n    //     createPlane(layerId, adjacentX, tileY, divisor)\n    //   }\n    //   planes[visibleId].visible = true\n    //   visibleId = layerId + ',' + adjacentX + ',' + adjacentY\n    //   if (!planes[visibleId]) {\n    //     createPlane(layerId, adjacentX, adjacentY, divisor)\n    //   }\n    //   planes[visibleId].visible = true\n    //   visibleId = layerId + ',' + tileX + ',' + adjacentY\n    //   if (!planes[visibleId]) {\n    //     createPlane(layerId, tileX, adjacentY, divisor)\n    //   }\n    //   planes[visibleId].visible = true\n    // }\n\n    // function createPlane(layerId, x, y, divisor) {\n    //   const id = layerId + ',' + x.toString() + ',' + y.toString()\n    //   planes[id] = new THREE.Mesh(\n    //     new THREE.PlaneGeometry(divisor, divisor, 107, 107),\n    //     new THREE.MeshPhysicalMaterial() //wireframe: true })\n    //   )\n    //   planes[id].rotateX(-Math.PI / 2)\n    //   planes[id].position.x = x * divisor + divisor / 2\n    //   planes[id].position.z = y * divisor + divisor / 2\n    //   earth.add(planes[id])\n    //   // let offsetX = 128\n    //   // let offsetY = 64\n    //   // const hgtImage = new Image()\n    //   // hgtImage.onload = () => {\n    //   //   const canvas = document.createElement('canvas')\n    //   //   canvas.width = 108\n    //   //   canvas.height = 108\n    //   //   const context = canvas.getContext('2d')\n    //   //   context.drawImage(hgtImage, 0, 0)\n    //   //   const data = context.getImageData(0, 0, 108, 108)\n    //   //   let dataOffset = 0\n    //   //   let ele = 0\n    //   //   for (let i = 2; i < planes[id].geometry.attributes.position.array.length; i = i + 3) {\n    //   //     let b0 = data.data[dataOffset + 0]\n    //   //     let b1 = data.data[dataOffset + 1]\n    //   //     ele = ((b1 << 8) | b0) - 32767\n    //   //     planes[id].geometry.attributes.position.array[i] = ele\n    //   //     dataOffset += 4\n    //   //   }\n    //   //   planes[id].geometry.computeVertexNormals()\n    //   //   planes[id].geometry.attributes.position.needsUpdate = true\n    //   // }\n    //   // hgtImage.src = '/tiles_hgt/' + layerId + '_' + (y + offsetY) + '_' + (x + offsetX) + '.png'\n    //   // const tileUrl = '/tiles/' + layerId + '_' + (y + offsetY) + '_' + (x + offsetX) + '.jpg'\n    //   // textureLoader.load(tileUrl, (t) => {\n    //   //   planes[id].material.map = t\n    //   //   planes[id].material.needsUpdate = true\n    //   // })\n    // }\n\n    //boat\n    let controlledBoatId = 0\n    const followCamPivot = new THREE.Object3D()\n    const lat = 15.0302\n    const lon = -24.4485\n    let boatDataText = ''\n    const boatDataElem = document.getElementById('boatData')\n    const startX = (lon * divisor) / divisorMultiplier\n    const startZ = -(lat * divisor) / divisorMultiplier\n\n    let floaters = []\n\n    // main user boat\n    const loader = new GLTFLoader()\n    loader.load(\n      'models/oselvar_wooden_boat.glb',\n      function (gltf) {\n        gltf.scene.traverse(function (child) {\n          if (child.isMesh) {\n            child.material = new THREE.MeshStandardMaterial({ roughness: 0 })\n          }\n        })\n        const group = new THREE.Group()\n        group.add(gltf.scene)\n        const floater = new Floater(earth, group, gerstnerWater, true)\n        floaters.push(floater)\n        controlledBoatId = floaters.length - 1\n\n        gltf.scene.position.y = 0.6\n\n        gltf.scene.add(followCamPivot)\n        followCamPivot.position.set(0, 5, -7.5)\n\n        group.position.x = startX\n        group.position.z = startZ\n\n        camera.position.set(group.position.x, 100, group.position.z - 100)\n\n        earth.add(group)\n\n        cameraLerp = true\n\n        loadTestBoxes()\n        //loadTestBoat1()\n        //loadTestBoat2()\n\n        camera.position.set(0, 100, -100)\n      },\n      (xhr) => {\n        console.log((xhr.loaded / xhr.total) * 100 + '% loaded')\n      },\n      (error) => {\n        console.log(error)\n      }\n    )\n\n    // floating boxes\n    function loadTestBoxes() {\n      const boxGeometry = new THREE.BoxGeometry(3, 3, 3)\n\n      for (let i = 0; i < 10; i++) {\n        const box = new THREE.Mesh(\n          boxGeometry.clone(),\n          new THREE.MeshStandardMaterial({ roughness: 0 })\n        )\n        const group = new THREE.Group()\n        group.position.set(startX + (i * 10 - 30), 0, startZ + (i * 10 - 50))\n        group.add(box.clone())\n        const floater = new Floater(earth, group, gerstnerWater)\n        floaters.push(floater)\n        earth.add(group)\n      }\n    }\n\n    // function loadTestBoat1() {\n    //   loader.load(\n    //     'models/boat2.glb',\n    //     function (gltf) {\n    //       for (let i = 0; i < 1; i++) {\n    //         const group = new THREE.Group()\n    //         group.position.set(startX + 20, 0, startZ + 20)\n    //         group.add(gltf.scene)\n    //         const floater = new Floater(earth, group, gerstnerWater)\n    //         floaters.push(floater)\n    //         earth.add(group)\n    //       }\n    //     },\n    //     (xhr) => {\n    //       console.log((xhr.loaded / xhr.total) * 100 + '% loaded')\n    //     },\n    //     (error) => {\n    //       console.log(error)\n    //     }\n    //   )\n    // }\n\n    // function loadTestBoat2() {\n    //   loader.load(\n    //     'models/boat3.glb',\n    //     function (gltf) {\n    //       for (let i = 0; i < 1; i++) {\n    //         const group = new THREE.Group()\n    //         group.position.set(startX - 40, 0, startZ + 40)\n    //         group.add(gltf.scene)\n    //         const floater = new Floater(earth, group, gerstnerWater)\n    //         floaters.push(floater)\n    //         earth.add(group)\n    //       }\n    //     },\n    //     (xhr) => {\n    //       console.log((xhr.loaded / xhr.total) * 100 + '% loaded')\n    //     },\n    //     (error) => {\n    //       console.log(error)\n    //     }\n    //   )\n    // }\n\n    //const stats = new Stats()\n    //document.body.appendChild(stats.dom)\n\n    const folderSky = gui.addFolder('Sky')\n    folderSky.add(parameters, 'elevation', 0, 90, 0.1).onChange(updateSun)\n    folderSky.add(parameters, 'azimuth', -180, 180, 0.1).onChange(updateSun)\n    //folderSky.open()\n\n    window.addEventListener('resize', onWindowResize)\n\n    function onWindowResize() {\n      camera.aspect = window.innerWidth / window.innerHeight\n      camera.updateProjectionMatrix()\n\n      renderer.setSize(window.innerWidth, window.innerHeight)\n    }\n\n    const onKeyDown = function (event) {\n      switch (event.code) {\n        case 'KeyW':\n          if (!controlsChanging) {\n            cameraLerp = true\n          }\n          if (floaters[controlledBoatId].power < 1) {\n            floaters[controlledBoatId].power += 0.01\n          }\n          break\n        case 'KeyA':\n          if (!controlsChanging) {\n            cameraLerp = true\n          }\n          floaters[controlledBoatId].heading += 0.05\n          break\n        case 'KeyS':\n          if (!controlsChanging) {\n            cameraLerp = true\n          }\n          if (floaters[controlledBoatId].power > -1) {\n            floaters[controlledBoatId].power -= 0.01\n          }\n          break\n        case 'KeyD':\n          if (!controlsChanging) {\n            cameraLerp = true\n          }\n          floaters[controlledBoatId].heading -= 0.05\n          break\n      }\n    }\n    document.addEventListener('keydown', onKeyDown, false)\n\n    const clock = new THREE.Clock()\n    let delta = 0\n\n    function animate() {\n      requestAnimationFrame(animate)\n      delta = clock.getDelta()\n\n      floaters.forEach((f) => {\n        f.update(delta)\n        // f.sphereMesh.visible = false\n        // floaters.forEach((f2) => {\n        //     if (f !== f2 && f.collisionSphere.intersectsSphere(f2.collisionSphere)) {\n        //         f.sphereMesh.visible = true\n        //     }\n        // })\n      })\n\n      if (floaters[controlledBoatId]) {\n        earth.position.x = -floaters[controlledBoatId].object.position.x\n        earth.position.z = -floaters[controlledBoatId].object.position.z\n\n        boatDataText =\n          'pwr:' +\n          floaters[controlledBoatId].power.toFixed(2) +\n          ' ms:' +\n          floaters[controlledBoatId].ms.toFixed(2) +\n          ` kts:` +\n          (floaters[controlledBoatId].ms * 1.94384).toFixed(2) +\n          ' hdg:' +\n          -((floaters[controlledBoatId].heading / Math.PI) * 180).toFixed(2)\n        boatDataElem.innerText = boatDataText\n\n        if (cameraLerp) {\n          const v = new THREE.Vector3()\n          followCamPivot.getWorldPosition(v)\n          camera.position.lerp(v, 0.025)\n          controls.target.y = floaters[controlledBoatId].object.position.y + 2\n        }\n      }\n\n      controls.update()\n\n      gerstnerWater.update(delta)\n\n      render()\n\n      // makeVisible(7, divisor)\n      locationDataText =\n        ((earth.position.z / divisor) * divisorMultiplier).toFixed(6) +\n        ' ' +\n        ((-earth.position.x / divisor) * divisorMultiplier).toFixed(6)\n      locationDataElem.innerText = locationDataText\n\n      //stats.update()\n    }\n\n    function render() {\n      renderer.render(scene, camera)\n    }\n\n    animate()\n  }\n}\n</script>\n<style>\n#boatData {\n  position: absolute;\n  left: 20px;\n  bottom: 50px;\n  font-size: 17px;\n  font-family: monospace;\n  color: white;\n  pointer-events: none;\n}\n\n#locationData {\n  position: absolute;\n  left: 20px;\n  bottom: 20px;\n  font-size: 17px;\n  font-family: monospace;\n  color: white;\n  pointer-events: none;\n}\n\n#my-gui-container {\n  position: absolute;\n  top: 0px;\n  right: 120px;\n}\n</style>","import * as THREE from 'three'\n\nexport default class Floater {\n    earth\n    object\n    gerstnerWater\n    cogHelper\n    velocityHelper\n    waveNormalHelpers = []\n    gravityHelpers = []\n    gravitySlideHelpers = []\n    floatPoints = []\n    down = new THREE.Vector3(0, -1, 0)\n    heading = 0\n    power = 0\n    isPlayerFloater = false\n    collisionSphere\n    //sphereMesh\n    //boxHelper: THREE.Box3Helper\n    lastPosition = new THREE.Vector3()\n    velocity = new THREE.Vector3()\n    ms = 0\n    forces = []\n\n    constructor(\n        earth,\n        object,\n        gerstnerWater,\n        isPlayerFloater = false\n    ) {\n        this.earth = earth\n        this.object = object\n        this.gerstnerWater = gerstnerWater\n        this.isPlayerFloater = isPlayerFloater\n\n        this.object.traverse((child) => {\n            if (child.name.startsWith('floatPoint')) {\n                this.floatPoints.push(child)\n            }\n        })\n        if (!this.floatPoints.length) {\n            //then create one in the middle that we can use\n            const floatPoint = new THREE.Object3D()\n            //floatPoint.name = 'floatPoint'\n            this.object.add(floatPoint)\n            this.floatPoints.push(floatPoint)\n        }\n\n        //;(this.object as THREE.Mesh).geometry.computeBoundingBox()\n        const aabb = new THREE.Box3().setFromObject(this.object)\n        this.collisionSphere = new THREE.Sphere()\n        aabb.getBoundingSphere(this.collisionSphere)\n        // this.sphereMesh = new THREE.Mesh(\n        //     new THREE.SphereGeometry(this.collisionSphere.radius, 8, 8),\n        //     new THREE.MeshBasicMaterial({\n        //         color: 0xff0000,\n        //         transparent: true,\n        //         opacity: 0.25,\n        //         visible: false,\n        //     })\n        // )\n        // this.object.add(this.sphereMesh)\n\n        //console.log(this.collisionSphere)\n\n        //this.object.add(this.boxHelper)\n\n        this.cogHelper = new THREE.ArrowHelper(\n            new THREE.Vector3(),\n            new THREE.Vector3(),\n            7.5,\n            0x00ff00\n        )\n        earth.add(this.cogHelper)\n\n        this.velocityHelper = new THREE.ArrowHelper(\n            new THREE.Vector3(),\n            new THREE.Vector3(),\n            7.5,\n            0xff00ff\n        )\n        earth.add(this.velocityHelper)\n\n        this.floatPoints.forEach((fp) => {\n            const waveNormalHelper = new THREE.ArrowHelper(\n                new THREE.Vector3(),\n                new THREE.Vector3(),\n                5,\n                0xffff00\n            )\n            waveNormalHelper.position.copy(fp.position)\n            this.waveNormalHelpers.push(waveNormalHelper)\n            earth.add(waveNormalHelper)\n\n            const gravitySlideHelper = new THREE.ArrowHelper(\n                new THREE.Vector3(0, 1, 0),\n                new THREE.Vector3(),\n                5,\n                0x00ffff\n            )\n            gravitySlideHelper.position.copy(fp.position)\n            this.gravitySlideHelpers.push(gravitySlideHelper)\n            earth.add(gravitySlideHelper)\n        })\n    }\n\n    //r = 0\n    update(delta) {\n        //this.boxHelper.updateMatrixWorld(true)\n\n        const t = this.gerstnerWater.water.material.uniforms['time'].value\n\n        const accumulatedPosition = new THREE.Vector3() // this.object.position.clone()\n\n        const accumulatedNormal = new THREE.Vector3(0, 0, 0)\n\n        this.floatPoints.forEach((fp, i) => {\n            const fpWorldPos = new THREE.Vector3()\n\n            fp.getWorldPosition(fpWorldPos)\n            fpWorldPos.sub(this.earth.position)\n\n            const waveInfo = this.gerstnerWater.getWaveInfo(\n                this.object.position.x,\n                this.object.position.z,\n                fpWorldPos.x,\n                fpWorldPos.z,\n                t\n            )\n\n            this.waveNormalHelpers[i].setDirection(waveInfo.normal)\n            this.waveNormalHelpers[i].position.copy(fpWorldPos)\n\n            const gravitySlideDirection = new THREE.Vector3(0, -1, 0)\n                .add(waveInfo.normal)\n                .divideScalar(2)\n                .normalize()\n\n            this.gravitySlideHelpers[i].setDirection(gravitySlideDirection)\n            this.gravitySlideHelpers[i].position.copy(fpWorldPos)\n\n            accumulatedPosition.y += waveInfo.position.y\n            accumulatedPosition.x += this.object.position.x + waveInfo.normal.x\n            accumulatedPosition.z += this.object.position.z + waveInfo.normal.z\n\n            accumulatedNormal.add(waveInfo.normal)\n        })\n\n        //average all floatPoints directions\n        accumulatedPosition.divideScalar(this.floatPoints.length)\n\n        //this.object.position.y = accumulatedPosition.y\n\n        // //apply any forces\n        if (this.forces.length) {\n            this.forces.forEach((f) => {\n                //console.log(f)\n                //accumulatedPosition.add(new THREE.Vector3(f.x, f.y, f.z))\n                accumulatedPosition.x += f.x\n                accumulatedPosition.z += f.z\n                //accumulatedPosition.sub(f)\n            })\n            this.forces = []\n        }\n\n        accumulatedPosition.x += Math.sin(this.heading) * this.power\n        accumulatedPosition.z += Math.cos(this.heading) * this.power\n\n        //console.log(this.object.position.x,accumulatedPosition.x)\n        //this.object.position.copy(accumulatedPosition)//\n        this.object.position.lerp(accumulatedPosition, 0.25)\n\n        this.velocity = this.lastPosition.clone().sub(accumulatedPosition).negate()\n        this.velocityHelper.setDirection(this.velocity)\n        this.velocityHelper.position.set(\n            accumulatedPosition.x,\n            accumulatedPosition.y + 1,\n            accumulatedPosition.z\n        )\n\n        const dist = accumulatedPosition.distanceTo(this.lastPosition)\n        this.ms = dist * 1000 * delta\n        this.velocityHelper.setLength(this.ms)\n        this.lastPosition = accumulatedPosition\n\n        this.collisionSphere.center.copy(this.object.position)\n\n        accumulatedNormal.divideScalar(this.floatPoints.length).normalize()\n\n        this.cogHelper.setDirection(accumulatedNormal)\n        this.cogHelper.position.copy(accumulatedPosition)\n\n        this.object.children[0].rotation.y = this.heading\n        this.object.quaternion.rotateTowards(this.cogHelper.quaternion, delta * 0.2)\n\n        if (this.isPlayerFloater) {\n            this.gerstnerWater.water.position.x = -this.earth.position.x\n            this.gerstnerWater.water.position.z = -this.earth.position.z\n            this.gerstnerWater.water.material.uniforms['offsetX'].value =\n                -this.earth.position.x\n            this.gerstnerWater.water.material.uniforms['offsetZ'].value =\n                -this.earth.position.z\n        }\n    }\n}\n","33\nimport * as THREE from 'three'\nimport { Water } from 'three/examples/jsm/objects/Water.js'\n\nexport default class GerstnerWater {\n    water\n    waves\n    texture\n\n    constructor(gui) {\n        const waterGeometry = new THREE.PlaneGeometry(4096, 4096, 256, 256)\n        this.texture = new THREE.TextureLoader().load('img/waternormals.jpg', function (texture) {\n            texture.wrapS = texture.wrapT = THREE.RepeatWrapping\n        })\n\n        this.waves = [\n            { direction: 0, steepness: 0.15, wavelength: 100 },\n            { direction: 30, steepness: 0.15, wavelength: 50 },\n            { direction: 60, steepness: 0.15, wavelength: 25 },\n        ]\n\n        this.water = new Water(waterGeometry, {\n            textureWidth: 512,\n            textureHeight: 512,\n            waterNormals: this.texture,\n            sunDirection: new THREE.Vector3(),\n            sunColor: 0xffffff,\n            waterColor: 0x001e0f,\n            distortionScale: 8,\n            fog: undefined,\n        })\n\n        this.water.material.wireframe = false\n        this.water.rotation.x = -Math.PI / 2\n        this.water.material.onBeforeCompile = (\n            shader\n        ) => {\n            shader.uniforms.offsetX = { value: 0 }\n            shader.uniforms.offsetZ = { value: 0 }\n            shader.uniforms.waveA = {\n                value: [\n                    Math.sin((this.waves[0].direction * Math.PI) / 180),\n                    Math.cos((this.waves[0].direction * Math.PI) / 180),\n                    this.waves[0].steepness,\n                    this.waves[0].wavelength,\n                ],\n            }\n            shader.uniforms.waveB = {\n                value: [\n                    Math.sin((this.waves[1].direction * Math.PI) / 180),\n                    Math.cos((this.waves[1].direction * Math.PI) / 180),\n                    this.waves[1].steepness,\n                    this.waves[1].wavelength,\n                ],\n            }\n            shader.uniforms.waveC = {\n                value: [\n                    Math.sin((this.waves[2].direction * Math.PI) / 180),\n                    Math.cos((this.waves[2].direction * Math.PI) / 180),\n                    this.waves[2].steepness,\n                    this.waves[2].wavelength,\n                ],\n            }\n            shader.vertexShader = `\n                uniform mat4 textureMatrix;\n                uniform float time;\n\n                varying vec4 mirrorCoord;\n                varying vec4 worldPosition;\n\n                #include <common>\n                #include <fog_pars_vertex>\n                #include <shadowmap_pars_vertex>\n                #include <logdepthbuf_pars_vertex>\n\n                uniform vec4 waveA;\n                uniform vec4 waveB;\n                uniform vec4 waveC;\n\n                uniform float offsetX;\n                uniform float offsetZ;\n\n                vec3 GerstnerWave (vec4 wave, vec3 p) {\n                    float steepness = wave.z;\n                    float wavelength = wave.w;\n                    float k = 2.0 * PI / wavelength;\n                    float c = sqrt(9.8 / k);\n                    vec2 d = normalize(wave.xy);\n                    float f = k * (dot(d, vec2(p.x, p.y)) - c * time);\n                    float a = steepness / k;\n\n                    return vec3(\n                        d.x * (a * cos(f)),\n                        d.y * (a * cos(f)),\n                        a * sin(f)\n                    );\n                }\n\n                void main() {\n\n                    mirrorCoord = modelMatrix * vec4( position, 1.0 );\n                    worldPosition = mirrorCoord.xyzw;\n                    mirrorCoord = textureMatrix * mirrorCoord;\n\n                    vec3 gridPoint = position.xyz;\n                    vec3 tangent = vec3(1, 0, 0);\n                    vec3 binormal = vec3(0, 0, 1);\n                    vec3 p = gridPoint;\n                    gridPoint.x += offsetX;//*2.0;\n                    gridPoint.y -= offsetZ;//*2.0;\n                    p += GerstnerWave(waveA, gridPoint);\n                    p += GerstnerWave(waveB, gridPoint);\n                    p += GerstnerWave(waveC, gridPoint);\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4( p.x, p.y, p.z, 1.0);\n\n                    #include <beginnormal_vertex>\n                    #include <defaultnormal_vertex>\n                    #include <logdepthbuf_vertex>\n                    #include <fog_vertex>\n                    #include <shadowmap_vertex>\n                }`\n\n            shader.fragmentShader = `\n                uniform sampler2D mirrorSampler;\n                uniform float alpha;\n                uniform float time;\n                uniform float size;\n                uniform float distortionScale;\n                uniform sampler2D normalSampler;\n                uniform vec3 sunColor;\n                uniform vec3 sunDirection;\n                uniform vec3 eye;\n                uniform vec3 waterColor;\n\n                varying vec4 mirrorCoord;\n                varying vec4 worldPosition;\n\n                uniform float offsetX;\n                uniform float offsetZ;\n\n                vec4 getNoise( vec2 uv ) {\n                    vec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\n                    vec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\n                    vec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\n                    vec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\n                    vec4 noise = texture2D( normalSampler, uv0 ) +\n                        texture2D( normalSampler, uv1 ) +\n                        texture2D( normalSampler, uv2 ) +\n                        texture2D( normalSampler, uv3 );\n                    return noise * 0.5 - 1.0;\n                }\n\n                void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {\n                    vec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\n                    float direction = max( 0.0, dot( eyeDirection, reflection ) );\n                    specularColor += pow( direction, shiny ) * sunColor * spec;\n                    diffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\n                }\n\n                #include <common>\n                #include <packing>\n                #include <bsdfs>\n                #include <fog_pars_fragment>\n                #include <logdepthbuf_pars_fragment>\n                #include <lights_pars_begin>\n                #include <shadowmap_pars_fragment>\n                #include <shadowmask_pars_fragment>\n\n                void main() {\n\n                    #include <logdepthbuf_fragment>\n\n                    vec4 noise = getNoise( (worldPosition.xz) + vec2(offsetX/12.25,offsetZ/12.25) * size );\n                    vec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\n\n                    vec3 diffuseLight = vec3(0.0);\n                    vec3 specularLight = vec3(0.0);\n\n                    vec3 worldToEye = eye-worldPosition.xyz;\n                    vec3 eyeDirection = normalize( worldToEye );\n                    sunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\n\n                    float distance = length(worldToEye);\n\n                    vec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\n                    vec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.w + distortion ) );\n\n                    float theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\n                    float rf0 = 0.3;\n                    float reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\n                    vec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\n                    vec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);\n                    vec3 outgoingLight = albedo;\n                    gl_FragColor = vec4( outgoingLight, alpha );\n\n                    #include <tonemapping_fragment>\n                    #include <fog_fragment>\n                }`\n            shader.uniforms.size.value = 10.0\n        }\n\n        const waterUniforms = this.water.material.uniforms\n\n        const folderWater = gui.addFolder('Water')\n        folderWater.add(waterUniforms.distortionScale, 'value', 0, 8, 0.1).name('distortionScale')\n        folderWater.add(waterUniforms.size, 'value', 0.1, 10, 0.1).name('size')\n        folderWater.add(this.water.material, 'wireframe')\n        //folderWater.open()\n\n        const waveAFolder = gui.addFolder('Wave A')\n        waveAFolder\n            .add(this.waves[0], 'direction', 0, 359)\n            .name('Direction')\n            .onChange((v) => {\n                const x = (v * Math.PI) / 180\n                waterUniforms.waveA.value[0] = Math.sin(x)\n                waterUniforms.waveA.value[1] = Math.cos(x)\n            })\n        waveAFolder\n            .add(this.waves[0], 'steepness', 0, 1, 0.01)\n            .name('Steepness')\n            .onChange((v) => {\n                waterUniforms.waveA.value[2] = v\n            })\n        waveAFolder\n            .add(this.waves[0], 'wavelength', 1, 100)\n            .name('Wavelength')\n            .onChange((v) => {\n                waterUniforms.waveA.value[3] = v\n            })\n        //waveAFolder.open()\n\n        const waveBFolder = gui.addFolder('Wave B')\n        waveBFolder\n            .add(this.waves[1], 'direction', 0, 359)\n            .name('Direction')\n            .onChange((v) => {\n                const x = (v * Math.PI) / 180\n                waterUniforms.waveB.value[0] = Math.sin(x)\n                waterUniforms.waveB.value[1] = Math.cos(x)\n            })\n        waveBFolder\n            .add(this.waves[1], 'steepness', 0, 1, 0.01)\n            .name('Steepness')\n            .onChange((v) => {\n                waterUniforms.waveB.value[2] = v\n            })\n        waveBFolder\n            .add(this.waves[1], 'wavelength', 1, 100)\n            .name('Wavelength')\n            .onChange((v) => {\n                waterUniforms.waveB.value[3] = v\n            })\n        //waveBFolder.open()\n\n        const waveCFolder = gui.addFolder('Wave C')\n        waveCFolder\n            .add(this.waves[2], 'direction', 0, 359)\n            .name('Direction')\n            .onChange((v) => {\n                const x = (v * Math.PI) / 180\n                waterUniforms.waveC.value[0] = Math.sin(x)\n                waterUniforms.waveC.value[1] = Math.cos(x)\n            })\n        waveCFolder\n            .add(this.waves[2], 'steepness', 0, 1, 0.01)\n            .name('Steepness')\n            .onChange((v) => {\n                waterUniforms.waveC.value[2] = v\n            })\n        waveCFolder\n            .add(this.waves[2], 'wavelength', 1, 100)\n            .name('Wavelength')\n            .onChange((v) => {\n                waterUniforms.waveC.value[3] = v\n            })\n        //waveCFolder.open()\n    }\n\n    getWaveInfo(offsetX, offsetZ, x, z, time) {\n        const pos = new THREE.Vector3()\n        const tangent = new THREE.Vector3(1, 0, 0)\n        const binormal = new THREE.Vector3(0, 0, 1)\n        this.waves.forEach((w) => {\n            const k = (Math.PI * 2.0) / w.wavelength\n            const c = Math.sqrt(9.8 / k)\n            const d = new THREE.Vector2(\n                Math.sin((w.direction * Math.PI) / 180),\n                -Math.cos((w.direction * Math.PI) / 180)\n            )\n            const f = k * (d.dot(new THREE.Vector2(x, z)) - c * time)\n            const a = w.steepness / k\n\n            pos.x += d.x * (a * Math.cos(f))\n            pos.y += a * Math.sin(f)\n            pos.z += d.y * (a * Math.cos(f))\n\n            tangent.x += -d.x * d.x * (w.steepness * Math.sin(f))\n            tangent.y += d.x * (w.steepness * Math.cos(f))\n            tangent.z += -d.x * d.y * (w.steepness * Math.sin(f))\n\n            binormal.x += -d.x * d.y * (w.steepness * Math.sin(f))\n            binormal.y += d.y * (w.steepness * Math.cos(f))\n            binormal.z += -d.y * d.y * (w.steepness * Math.sin(f))\n        })\n\n        const normal = binormal.cross(tangent).normalize()\n        return { position: pos, normal: normal }\n    }\n\n    update(delta) {\n        this.water.material.uniforms['time'].value += delta\n    }\n}","import { render } from \"./WaterPage.vue?vue&type=template&id=7ac16a5e\"\nimport script from \"./WaterPage.vue?vue&type=script&lang=js\"\nexport * from \"./WaterPage.vue?vue&type=script&lang=js\"\n\nimport \"./WaterPage.vue?vue&type=style&index=0&id=7ac16a5e&lang=css\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <h1 style=\"color:red;\">Create Edge Detect Object</h1>\n    <nav-menu />\n    <div id=\"my-gui-container\"></div>\n  </div>\n</template>\n<script>\n//import * as MYCONST from '@/const.js';\nimport NavMenu from '@/components/NavMenu.vue'\nimport * as THREE from 'three';\n\nimport { GUI } from 'three/addons/libs/lil-gui.module.min.js';\n\nimport { OrbitControls } from 'three/addons/controls/OrbitControls.js';\n\nimport { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';\nimport { RenderPass } from 'three/addons/postprocessing/RenderPass.js';\nimport { ShaderPass } from 'three/addons/postprocessing/ShaderPass.js';\n\nimport { LuminosityShader } from 'three/addons/shaders/LuminosityShader.js';\nimport { SobelOperatorShader } from 'three/addons/shaders/SobelOperatorShader.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\n\nlet gui;\n\nexport default {\n  name: 'EdgeDetectPage',\n  components: {\n    NavMenu\n  },\n  unmounted() {\n    if (gui) {\n      gui.destroy();\n    }\n    gui = null\n  },\n  mounted() {\n    let camera, scene, renderer, composer;\n\n    let effectSobel;\n\n    const params = {\n      enable: true\n    };\n\n    let doc = this.$el;\n    init(doc);\n    animate();\n\n\n\n    function init(doc) {\n\n      //\n\n      scene = new THREE.Scene();\n\n      camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 200);\n      camera.position.set(0, 10, 25);\n      camera.lookAt(scene.position);\n\n      //\n\n      // const geometry = new THREE.TorusKnotGeometry(8, 3, 256, 32, 2, 3);\n      // const material = new THREE.MeshPhongMaterial({ color: 0xffff00 });\n\n      // const mesh = new THREE.Mesh(geometry, material);\n      // scene.add(mesh);\n\n      const loader = new GLTFLoader()\n      loader.load(\n        'models/artillery_military_weapon.glb',\n        function (gltf) {\n          gltf.scene.traverse(function (child) {\n            if ((child).isMesh) {\n              const m = child\n              m.receiveShadow = true\n              m.castShadow = true\n            }\n            if ((child).isLight) {\n              const l = child\n              l.castShadow = true\n              l.shadow.bias = -0.003\n              l.shadow.mapSize.width = 2048\n              l.shadow.mapSize.height = 2048\n            }\n          })\n          gltf.scene.scale.set(0.06, 0.06, 0.06)\n          gltf.scene.rotateY(Math.PI / 2)\n          scene.add(gltf.scene)\n        },\n      )\n      //\n\n      const ambientLight = new THREE.AmbientLight(0xcccccc, 0.4);\n      scene.add(ambientLight);\n\n      const pointLight = new THREE.PointLight(0xffffff, 0.8);\n      camera.add(pointLight);\n      scene.add(camera);\n\n      //\n\n      renderer = new THREE.WebGLRenderer();\n      renderer.setPixelRatio(window.devicePixelRatio);\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      doc.appendChild(renderer.domElement);\n\n      // postprocessing\n\n      composer = new EffectComposer(renderer);\n      const renderPass = new RenderPass(scene, camera);\n      composer.addPass(renderPass);\n\n      // color to grayscale conversion\n\n      const effectGrayScale = new ShaderPass(LuminosityShader);\n      composer.addPass(effectGrayScale);\n\n      // you might want to use a gaussian blur filter before\n      // the next pass to improve the result of the Sobel operator\n\n      // Sobel operator\n\n      effectSobel = new ShaderPass(SobelOperatorShader);\n      effectSobel.uniforms['resolution'].value.x = window.innerWidth * window.devicePixelRatio;\n      effectSobel.uniforms['resolution'].value.y = window.innerHeight * window.devicePixelRatio;\n      composer.addPass(effectSobel);\n\n      const controls = new OrbitControls(camera, renderer.domElement);\n      controls.minDistance = 10;\n      controls.maxDistance = 100;\n\n      //\n\n      gui = new GUI({ autoPlace: false });\n      var customContainer = document.getElementById('my-gui-container');\n      customContainer.appendChild(gui.domElement);\n\n      gui.add(params, 'enable');\n      gui.open();\n\n      //\n\n      window.addEventListener('resize', onWindowResize);\n\n    }\n\n    function onWindowResize() {\n\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      composer.setSize(window.innerWidth, window.innerHeight);\n\n      effectSobel.uniforms['resolution'].value.x = window.innerWidth * window.devicePixelRatio;\n      effectSobel.uniforms['resolution'].value.y = window.innerHeight * window.devicePixelRatio;\n\n    }\n\n    function animate() {\n\n      requestAnimationFrame(animate);\n\n      if (params.enable === true) {\n\n        composer.render();\n\n      } else {\n\n        renderer.render(scene, camera);\n\n      }\n\n    }\n  }\n}\n</script>\n<style>\n#my-gui-container {\n  position: absolute;\n  top: 0px;\n  right: 120px;\n}\n</style>","import { render } from \"./EdgeDetectPage.vue?vue&type=template&id=902af308\"\nimport script from \"./EdgeDetectPage.vue?vue&type=script&lang=js\"\nexport * from \"./EdgeDetectPage.vue?vue&type=script&lang=js\"\n\nimport \"./EdgeDetectPage.vue?vue&type=style&index=0&id=902af308&lang=css\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>Create Shaders Ocean</h1>\n    <nav-menu />\n    <div id=\"my-gui-container\"></div>\n  </div>\n</template>\n<script>\n//import * as MYCONST from '@/const.js';\nimport NavMenu from '@/components/NavMenu.vue'\nimport * as THREE from 'three';\n//import Stats from 'three/addons/libs/stats.module.js';\nimport { GUI } from 'three/addons/libs/lil-gui.module.min.js';\nimport { OrbitControls } from 'three/addons/controls/OrbitControls.js';\nimport { Water } from 'three/addons/objects/Water.js';\nimport { Sky } from 'three/addons/objects/Sky.js';\n\nlet gui;\n\nexport default {\n  name: 'ShadersOceanPage',\n  components: {\n    NavMenu\n  },\n  unmounted() {\n    if (gui) {\n      gui.destroy();\n    }\n    gui = null\n  },\n  mounted() {\n    THREE.ColorManagement.enabled = false; // TODO: Confirm correct color management.\n    let container = this.$el; //stats;\n    let camera, scene, renderer;\n    let controls, water, sun, mesh;\n\n    init();\n    animate();\n\n    function init() {\n      //\n\n      renderer = new THREE.WebGLRenderer();\n      renderer.setPixelRatio(window.devicePixelRatio);\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      renderer.outputColorSpace = THREE.LinearSRGBColorSpace;\n      renderer.toneMapping = THREE.ACESFilmicToneMapping;\n      container.appendChild(renderer.domElement);\n\n      //\n\n      scene = new THREE.Scene();\n\n      camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 1, 20000);\n      camera.position.set(30, 30, 100);\n\n      //\n\n      sun = new THREE.Vector3();\n\n      // Water\n\n      const waterGeometry = new THREE.PlaneGeometry(10000, 10000);\n\n      water = new Water(\n        waterGeometry,\n        {\n          textureWidth: 512,\n          textureHeight: 512,\n          waterNormals: new THREE.TextureLoader().load('img/waternormals.jpg', function (texture) {\n\n            texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n\n          }),\n          sunDirection: new THREE.Vector3(),\n          sunColor: 0xffffff,\n          waterColor: 0x001e0f,\n          distortionScale: 3.7,\n          fog: scene.fog !== undefined\n        }\n      );\n\n      water.rotation.x = - Math.PI / 2;\n\n      scene.add(water);\n\n      // Skybox\n\n      const sky = new Sky();\n      sky.scale.setScalar(10000);\n      scene.add(sky);\n\n      const skyUniforms = sky.material.uniforms;\n\n      skyUniforms['turbidity'].value = 10;\n      skyUniforms['rayleigh'].value = 2;\n      skyUniforms['mieCoefficient'].value = 0.005;\n      skyUniforms['mieDirectionalG'].value = 0.8;\n\n      const parameters = {\n        elevation: 2,\n        azimuth: 180\n      };\n\n      const pmremGenerator = new THREE.PMREMGenerator(renderer);\n      let renderTarget;\n\n      function updateSun() {\n\n        const phi = THREE.MathUtils.degToRad(90 - parameters.elevation);\n        const theta = THREE.MathUtils.degToRad(parameters.azimuth);\n\n        sun.setFromSphericalCoords(1, phi, theta);\n\n        sky.material.uniforms['sunPosition'].value.copy(sun);\n        water.material.uniforms['sunDirection'].value.copy(sun).normalize();\n\n        if (renderTarget !== undefined) renderTarget.dispose();\n\n        renderTarget = pmremGenerator.fromScene(sky);\n\n        scene.environment = renderTarget.texture;\n\n      }\n\n      updateSun();\n\n      //\n\n      const geometry = new THREE.BoxGeometry(30, 30, 30);\n      const material = new THREE.MeshStandardMaterial({ roughness: 0 });\n\n      mesh = new THREE.Mesh(geometry, material);\n      scene.add(mesh);\n\n      //\n\n      controls = new OrbitControls(camera, renderer.domElement);\n      controls.maxPolarAngle = Math.PI * 0.495;\n      controls.target.set(0, 10, 0);\n      controls.minDistance = 40.0;\n      controls.maxDistance = 200.0;\n      controls.update();\n\n      //\n\n      //stats = new Stats();\n      //container.appendChild(stats.dom);\n\n      // GUI\n\n      gui = new GUI({ autoPlace: false });\n      var customContainer = document.getElementById('my-gui-container');\n      customContainer.appendChild(gui.domElement);\n\n      const folderSky = gui.addFolder('Sky');\n      folderSky.add(parameters, 'elevation', 0, 90, 0.1).onChange(updateSun);\n      folderSky.add(parameters, 'azimuth', - 180, 180, 0.1).onChange(updateSun);\n      folderSky.open();\n\n      const waterUniforms = water.material.uniforms;\n\n      const folderWater = gui.addFolder('Water');\n      folderWater.add(waterUniforms.distortionScale, 'value', 0, 8, 0.1).name('distortionScale');\n      folderWater.add(waterUniforms.size, 'value', 0.1, 10, 0.1).name('size');\n      folderWater.open();\n\n      //\n\n      window.addEventListener('resize', onWindowResize);\n\n    }\n\n    function onWindowResize() {\n\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n\n      renderer.setSize(window.innerWidth, window.innerHeight);\n\n    }\n\n    function animate() {\n\n      requestAnimationFrame(animate);\n      render();\n      //stats.update();\n\n    }\n\n    function render() {\n\n      const time = performance.now() * 0.001;\n\n      mesh.position.y = Math.sin(time) * 20 + 5;\n      mesh.rotation.x = time * 0.5;\n      mesh.rotation.z = time * 0.51;\n\n      water.material.uniforms['time'].value += 1.0 / 60.0;\n\n      renderer.render(scene, camera);\n\n    }\n\n  }\n}\n</script>\n<style>\n#my-gui-container {\n  position: absolute;\n  top: 0px;\n  right: 120px;\n}\n</style>","import { render } from \"./ShadersOceanPage.vue?vue&type=template&id=c4b7c9bc\"\nimport script from \"./ShadersOceanPage.vue?vue&type=script&lang=js\"\nexport * from \"./ShadersOceanPage.vue?vue&type=script&lang=js\"\n\nimport \"./ShadersOceanPage.vue?vue&type=style&index=0&id=c4b7c9bc&lang=css\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <div class=\"note-text\" style=\"color:red;\">\r\n\t\t\tOctree threejs demo - basic collisions with static triangle mesh<br />\r\n\t\t\tMOUSE to look around and to throw balls<br/>\r\n\t\t\tWASD to move and SPACE to jump\r\n\t\t</div>\r\n    <h1 style=\"color:red;\">Create Simple Game</h1>\r\n    <nav-menu />\r\n    <div id=\"my-gui-container\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\n//import * as MYCONST from '@/const.js';\r\nimport NavMenu from '@/components/NavMenu.vue'\r\nimport * as THREE from 'three';\r\n\r\nimport Stats from 'three/addons/libs/stats.module.js';\r\n\r\nimport { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';\r\n\r\nimport { Octree } from 'three/addons/math/Octree.js';\r\nimport { OctreeHelper } from 'three/addons/helpers/OctreeHelper.js';\r\n\r\nimport { Capsule } from 'three/addons/math/Capsule.js';\r\n\r\nimport { GUI } from 'three/addons/libs/lil-gui.module.min.js';\r\n\r\nlet gui;\r\n\r\nexport default {\r\n  name: 'GamePage',\r\n  components: {\r\n    NavMenu\r\n  },\r\n  unmounted() {\r\n    if (gui) {\r\n      gui.destroy();\r\n    }\r\n    gui = null\r\n  },\r\n  mounted() {\r\n    const clock = new THREE.Clock();\r\n\r\n    const scene = new THREE.Scene();\r\n    scene.background = new THREE.Color(0x88ccee);\r\n    scene.fog = new THREE.Fog(0x88ccee, 0, 50);\r\n\r\n    const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 1000);\r\n    camera.rotation.order = 'YXZ';\r\n\r\n    const fillLight1 = new THREE.HemisphereLight(0x8dc1de, 0x00668d, 0.5);\r\n    fillLight1.position.set(2, 1, 1);\r\n    scene.add(fillLight1);\r\n\r\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\r\n    directionalLight.position.set(- 5, 25, - 1);\r\n    directionalLight.castShadow = true;\r\n    directionalLight.shadow.camera.near = 0.01;\r\n    directionalLight.shadow.camera.far = 500;\r\n    directionalLight.shadow.camera.right = 30;\r\n    directionalLight.shadow.camera.left = - 30;\r\n    directionalLight.shadow.camera.top = 30;\r\n    directionalLight.shadow.camera.bottom = - 30;\r\n    directionalLight.shadow.mapSize.width = 1024;\r\n    directionalLight.shadow.mapSize.height = 1024;\r\n    directionalLight.shadow.radius = 4;\r\n    directionalLight.shadow.bias = - 0.00006;\r\n    scene.add(directionalLight);\r\n\r\n    const container = this.$el;\r\n\r\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.shadowMap.type = THREE.VSMShadowMap;\r\n    renderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n    container.appendChild(renderer.domElement);\r\n\r\n    const stats = new Stats();\r\n    stats.domElement.style.position = 'absolute';\r\n    stats.domElement.style.top = '0px';\r\n    stats.domElement.style.left = '330px';\r\n    container.appendChild(stats.domElement);\r\n\r\n    const GRAVITY = 30;\r\n\r\n    const NUM_SPHERES = 100;\r\n    const SPHERE_RADIUS = 0.2;\r\n\r\n    const STEPS_PER_FRAME = 5;\r\n\r\n    const sphereGeometry = new THREE.IcosahedronGeometry(SPHERE_RADIUS, 5);\r\n    const sphereMaterial = new THREE.MeshLambertMaterial({ color: 0xdede8d });\r\n\r\n    const spheres = [];\r\n    let sphereIdx = 0;\r\n\r\n    for (let i = 0; i < NUM_SPHERES; i++) {\r\n\r\n      const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\r\n      sphere.castShadow = true;\r\n      sphere.receiveShadow = true;\r\n\r\n      scene.add(sphere);\r\n\r\n      spheres.push({\r\n        mesh: sphere,\r\n        collider: new THREE.Sphere(new THREE.Vector3(0, - 100, 0), SPHERE_RADIUS),\r\n        velocity: new THREE.Vector3()\r\n      });\r\n\r\n    }\r\n\r\n    const worldOctree = new Octree();\r\n\r\n    const playerCollider = new Capsule(new THREE.Vector3(0, 0.35, 0), new THREE.Vector3(0, 1, 0), 0.35);\r\n\r\n    const playerVelocity = new THREE.Vector3();\r\n    const playerDirection = new THREE.Vector3();\r\n\r\n    let playerOnFloor = false;\r\n    let mouseTime = 0;\r\n\r\n    const keyStates = {};\r\n\r\n    const vector1 = new THREE.Vector3();\r\n    const vector2 = new THREE.Vector3();\r\n    const vector3 = new THREE.Vector3();\r\n\r\n    document.addEventListener('keydown', (event) => {\r\n\r\n      keyStates[event.code] = true;\r\n\r\n    });\r\n\r\n    document.addEventListener('keyup', (event) => {\r\n\r\n      keyStates[event.code] = false;\r\n\r\n    });\r\n\r\n    container.addEventListener('mousedown', () => {\r\n\r\n      document.body.requestPointerLock();\r\n\r\n      mouseTime = performance.now();\r\n\r\n    });\r\n\r\n    document.addEventListener('mouseup', () => {\r\n\r\n      if (document.pointerLockElement !== null) throwBall();\r\n\r\n    });\r\n\r\n    document.body.addEventListener('mousemove', (event) => {\r\n\r\n      if (document.pointerLockElement === document.body) {\r\n\r\n        camera.rotation.y -= event.movementX / 500;\r\n        camera.rotation.x -= event.movementY / 500;\r\n\r\n      }\r\n\r\n    });\r\n\r\n    window.addEventListener('resize', onWindowResize);\r\n\r\n    function onWindowResize() {\r\n\r\n      camera.aspect = window.innerWidth / window.innerHeight;\r\n      camera.updateProjectionMatrix();\r\n\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\n    }\r\n\r\n    function throwBall() {\r\n\r\n      const sphere = spheres[sphereIdx];\r\n\r\n      camera.getWorldDirection(playerDirection);\r\n\r\n      sphere.collider.center.copy(playerCollider.end).addScaledVector(playerDirection, playerCollider.radius * 1.5);\r\n\r\n      // throw the ball with more force if we hold the button longer, and if we move forward\r\n\r\n      const impulse = 15 + 30 * (1 - Math.exp((mouseTime - performance.now()) * 0.001));\r\n\r\n      sphere.velocity.copy(playerDirection).multiplyScalar(impulse);\r\n      sphere.velocity.addScaledVector(playerVelocity, 2);\r\n\r\n      sphereIdx = (sphereIdx + 1) % spheres.length;\r\n\r\n    }\r\n\r\n    function playerCollisions() {\r\n\r\n      const result = worldOctree.capsuleIntersect(playerCollider);\r\n\r\n      playerOnFloor = false;\r\n\r\n      if (result) {\r\n\r\n        playerOnFloor = result.normal.y > 0;\r\n\r\n        if (!playerOnFloor) {\r\n\r\n          playerVelocity.addScaledVector(result.normal, - result.normal.dot(playerVelocity));\r\n\r\n        }\r\n\r\n        playerCollider.translate(result.normal.multiplyScalar(result.depth));\r\n\r\n      }\r\n\r\n    }\r\n\r\n    function updatePlayer(deltaTime) {\r\n\r\n      let damping = Math.exp(- 4 * deltaTime) - 1;\r\n\r\n      if (!playerOnFloor) {\r\n\r\n        playerVelocity.y -= GRAVITY * deltaTime;\r\n\r\n        // small air resistance\r\n        damping *= 0.1;\r\n\r\n      }\r\n\r\n      playerVelocity.addScaledVector(playerVelocity, damping);\r\n\r\n      const deltaPosition = playerVelocity.clone().multiplyScalar(deltaTime);\r\n      playerCollider.translate(deltaPosition);\r\n\r\n      playerCollisions();\r\n\r\n      camera.position.copy(playerCollider.end);\r\n\r\n    }\r\n\r\n    function playerSphereCollision(sphere) {\r\n\r\n      const center = vector1.addVectors(playerCollider.start, playerCollider.end).multiplyScalar(0.5);\r\n\r\n      const sphere_center = sphere.collider.center;\r\n\r\n      const r = playerCollider.radius + sphere.collider.radius;\r\n      const r2 = r * r;\r\n\r\n      // approximation: player = 3 spheres\r\n\r\n      for (const point of [playerCollider.start, playerCollider.end, center]) {\r\n\r\n        const d2 = point.distanceToSquared(sphere_center);\r\n\r\n        if (d2 < r2) {\r\n\r\n          const normal = vector1.subVectors(point, sphere_center).normalize();\r\n          const v1 = vector2.copy(normal).multiplyScalar(normal.dot(playerVelocity));\r\n          const v2 = vector3.copy(normal).multiplyScalar(normal.dot(sphere.velocity));\r\n\r\n          playerVelocity.add(v2).sub(v1);\r\n          sphere.velocity.add(v1).sub(v2);\r\n\r\n          const d = (r - Math.sqrt(d2)) / 2;\r\n          sphere_center.addScaledVector(normal, - d);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    function spheresCollisions() {\r\n\r\n      for (let i = 0, length = spheres.length; i < length; i++) {\r\n\r\n        const s1 = spheres[i];\r\n\r\n        for (let j = i + 1; j < length; j++) {\r\n\r\n          const s2 = spheres[j];\r\n\r\n          const d2 = s1.collider.center.distanceToSquared(s2.collider.center);\r\n          const r = s1.collider.radius + s2.collider.radius;\r\n          const r2 = r * r;\r\n\r\n          if (d2 < r2) {\r\n\r\n            const normal = vector1.subVectors(s1.collider.center, s2.collider.center).normalize();\r\n            const v1 = vector2.copy(normal).multiplyScalar(normal.dot(s1.velocity));\r\n            const v2 = vector3.copy(normal).multiplyScalar(normal.dot(s2.velocity));\r\n\r\n            s1.velocity.add(v2).sub(v1);\r\n            s2.velocity.add(v1).sub(v2);\r\n\r\n            const d = (r - Math.sqrt(d2)) / 2;\r\n\r\n            s1.collider.center.addScaledVector(normal, d);\r\n            s2.collider.center.addScaledVector(normal, - d);\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    function updateSpheres(deltaTime) {\r\n\r\n      spheres.forEach(sphere => {\r\n\r\n        sphere.collider.center.addScaledVector(sphere.velocity, deltaTime);\r\n\r\n        const result = worldOctree.sphereIntersect(sphere.collider);\r\n\r\n        if (result) {\r\n\r\n          sphere.velocity.addScaledVector(result.normal, - result.normal.dot(sphere.velocity) * 1.5);\r\n          sphere.collider.center.add(result.normal.multiplyScalar(result.depth));\r\n\r\n        } else {\r\n\r\n          sphere.velocity.y -= GRAVITY * deltaTime;\r\n\r\n        }\r\n\r\n        const damping = Math.exp(- 1.5 * deltaTime) - 1;\r\n        sphere.velocity.addScaledVector(sphere.velocity, damping);\r\n\r\n        playerSphereCollision(sphere);\r\n\r\n      });\r\n\r\n      spheresCollisions();\r\n\r\n      for (const sphere of spheres) {\r\n\r\n        sphere.mesh.position.copy(sphere.collider.center);\r\n\r\n      }\r\n\r\n    }\r\n\r\n    function getForwardVector() {\r\n\r\n      camera.getWorldDirection(playerDirection);\r\n      playerDirection.y = 0;\r\n      playerDirection.normalize();\r\n\r\n      return playerDirection;\r\n\r\n    }\r\n\r\n    function getSideVector() {\r\n\r\n      camera.getWorldDirection(playerDirection);\r\n      playerDirection.y = 0;\r\n      playerDirection.normalize();\r\n      playerDirection.cross(camera.up);\r\n\r\n      return playerDirection;\r\n\r\n    }\r\n\r\n    function controls(deltaTime) {\r\n\r\n      // gives a bit of air control\r\n      const speedDelta = deltaTime * (playerOnFloor ? 25 : 8);\r\n\r\n      if (keyStates['KeyW']) {\r\n\r\n        playerVelocity.add(getForwardVector().multiplyScalar(speedDelta));\r\n\r\n      }\r\n\r\n      if (keyStates['KeyS']) {\r\n\r\n        playerVelocity.add(getForwardVector().multiplyScalar(- speedDelta));\r\n\r\n      }\r\n\r\n      if (keyStates['KeyA']) {\r\n\r\n        playerVelocity.add(getSideVector().multiplyScalar(- speedDelta));\r\n\r\n      }\r\n\r\n      if (keyStates['KeyD']) {\r\n\r\n        playerVelocity.add(getSideVector().multiplyScalar(speedDelta));\r\n\r\n      }\r\n\r\n      if (playerOnFloor) {\r\n\r\n        if (keyStates['Space']) {\r\n\r\n          playerVelocity.y = 15;\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    const loader = new GLTFLoader().setPath('./models/');\r\n\r\n    loader.load('collision-world.glb', (gltf) => {\r\n\r\n      scene.add(gltf.scene);\r\n\r\n      worldOctree.fromGraphNode(gltf.scene);\r\n\r\n      gltf.scene.traverse(child => {\r\n\r\n        if (child.isMesh) {\r\n\r\n          child.castShadow = true;\r\n          child.receiveShadow = true;\r\n\r\n          if (child.material.map) {\r\n\r\n            child.material.map.anisotropy = 4;\r\n\r\n          }\r\n\r\n        }\r\n\r\n      });\r\n\r\n      const helper = new OctreeHelper(worldOctree);\r\n      helper.visible = false;\r\n      scene.add(helper);\r\n\r\n      //const gui = new GUI({ width: 200 });\r\n      gui = new GUI({ autoPlace: false, width: 200 });\r\n      var customContainer = document.getElementById('my-gui-container');\r\n      customContainer.appendChild(gui.domElement);\r\n      gui.add({ debug: false }, 'debug')\r\n        .onChange(function (value) {\r\n\r\n          helper.visible = value;\r\n\r\n        });\r\n\r\n      gui.open();\r\n\r\n      animate();\r\n\r\n    });\r\n\r\n    function teleportPlayerIfOob() {\r\n\r\n      if (camera.position.y <= - 25) {\r\n\r\n        playerCollider.start.set(0, 0.35, 0);\r\n        playerCollider.end.set(0, 1, 0);\r\n        playerCollider.radius = 0.35;\r\n        camera.position.copy(playerCollider.end);\r\n        camera.rotation.set(0, 0, 0);\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n    function animate() {\r\n\r\n      const deltaTime = Math.min(0.05, clock.getDelta()) / STEPS_PER_FRAME;\r\n\r\n      // we look for collisions in substeps to mitigate the risk of\r\n      // an object traversing another too quickly for detection.\r\n\r\n      for (let i = 0; i < STEPS_PER_FRAME; i++) {\r\n\r\n        controls(deltaTime);\r\n\r\n        updatePlayer(deltaTime);\r\n\r\n        updateSpheres(deltaTime);\r\n\r\n        teleportPlayerIfOob();\r\n\r\n      }\r\n\r\n      renderer.render(scene, camera);\r\n\r\n      stats.update();\r\n\r\n      requestAnimationFrame(animate);\r\n\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n<style>\r\n#my-gui-container {\r\n  position: absolute;\r\n  top: 0px;\r\n  right: 120px;\r\n}\r\n</style>","import { render } from \"./GamePage.vue?vue&type=template&id=0f1c2a79\"\nimport script from \"./GamePage.vue?vue&type=script&lang=js\"\nexport * from \"./GamePage.vue?vue&type=script&lang=js\"\n\nimport \"./GamePage.vue?vue&type=style&index=0&id=0f1c2a79&lang=css\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router';\nimport HomePage from './components/HomePage.vue';\nimport AboutPage from './components/AboutPage.vue';\nimport FirstPage from './components/FirstPage.vue';\nimport SecondPage from './components/SecondPage.vue';\nimport TempPage from './components/TempPage.vue';\nimport APage from './components/APage.vue';\nimport BPage from './components/BPage.vue';\nimport WaterPage from './components/WaterPage.vue';\nimport EdgeDetectPage from './components/EdgeDetectPage.vue';\nimport ShadersOceanPage from './components/ShadersOceanPage.vue';\nimport GamePage from './components/GamePage.vue';\n\nconst routes = [\n  {\n    path: '/threejsdemo/water',\n    name: 'Water',\n    component: WaterPage\n  },\n  {\n    path: '/threejsdemo/a',\n    name: 'A',\n    component: APage\n  },\n  {\n    path: '/threejsdemo/b',\n    name: 'B',\n    component: BPage\n  },\n  {\n    path: '/threejsdemo/',\n    name: 'Home',\n    component: HomePage\n  },\n  {\n    path: '/threejsdemo/temp',\n    name: 'Temp Page',\n    component: TempPage\n  },\n  {\n    path: '/threejsdemo/about',\n    name: 'About',\n    component: AboutPage\n  },\n  {\n    path: '/threejsdemo/multicoloredsphere',\n    name: 'Multicolored Sphere',\n    component: FirstPage\n  },\n  {\n    path: '/threejsdemo/secondpage',\n    name: 'Second Page',\n    component: SecondPage\n  },\n  {\n    path: '/threejsdemo/edgedetect',\n    name: 'Edge Detect ',\n    component: EdgeDetectPage\n  },\n  {\n    path: '/threejsdemo/shadersocean',\n    name: 'Shaders Ocean ',\n    component: ShadersOceanPage\n  },\n  {\n    path: '/threejsdemo/game',\n    name: 'Shoot Game ',\n    component: GamePage\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\nexport default router;\n","import { render } from \"./App.vue?vue&type=template&id=b3c84c16\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=b3c84c16&lang=css\"\n\nimport exportComponent from \"G:\\\\Threejs\\\\VuejsThreejsForDemo-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\n\n// Import CSS\n//import './assets/css/style.css';\n\n// Create Vue app instance\nconst app = createApp(App);\n\n// Register Vue router instance\napp.use(router);\n\n// Mount Vue app instance to the DOM\napp.mount('#app');","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkthreejsdemo\"] = self[\"webpackChunkthreejsdemo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5245); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","_createElementVNode","class","style","_hoisted_2","_component_nav_menu","_hoisted_3","_hoisted_7","_component_router_link","to","exact","navigate","_normalizeClass","active","_ctx","$route","path","onClick","$event","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","script","__exports__","name","components","NavMenu","mounted","scene","THREE","light1","position","set","angle","Math","PI","penumbra","castShadow","shadow","mapSize","width","height","camera","near","far","add","light2","window","innerWidth","innerHeight","followCamPivot","rotation","order","followCam","z","renderer","setSize","outputEncoding","shadowMap","enabled","this","$el","appendChild","domElement","world","CANNON","gravity","groundMaterial","slipperyMaterial","slippery_ground_cm","friction","restitution","contactEquationStiffness","contactEquationRelaxation","addContactMaterial","characterCollider","y","colliderShape","colliderBody","mass","material","mixer","addShape","x","linearDamping","angularFactor","addBody","modelMesh","modelReady","animationActions","activeAction","lastAction","gltfLoader","GLTFLoader","load","gltf","traverse","child","isMesh","m","receiveShadow","frustumCulled","geometry","computeVertexNormals","mat","transparent","side","animationAction","clipAction","animations","push","target","console","log","tracks","shift","setAction","xhr","lengthComputable","error","toAction","loop","fadeOut","reset","fadeIn","play","clampWhenFinished","moveForward","moveBackward","moveLeft","moveRight","canJump","contactNormal","upAxis","addEventListener","e","contact","bi","ni","negate","copy","dot","planeGeometry","texture","plane","map","rotateX","planeShape","planeBody","quaternion","setFromAxisAngle","boxes","boxMeshes","i","halfExtents","random","boxShape","boxGeometry","boxBody","boxMesh","menuPanel","document","getElementById","startButton","controls","lock","PointerLockControls","onWindowResize","aspect","updateProjectionMatrix","render","display","onDocumentKey","onDocumentMouseMove","onDocumentMouseWheel","removeEventListener","setTimeout","movementX","movementY","newVal","deltaY","keyMap","code","type","isLocked","velocity","inputVelocity","euler","quat","camTo","targetQuaternion","distance","clock","delta","animate","requestAnimationFrame","update","p","distanceTo","rotationMatrix","lookAt","up","setFromRotationMatrix","equals","rotateTowards","setFromEuler","applyQuaternion","lerp","applyImpulse","min","getDelta","step","forEach","b","w","getWorldPosition","lerpVectors","RENDERER_CLEAR_COLOR","currentpage","init","light","object","color","scale","antialias","setPixelRatio","devicePixelRatio","setClearColor","MYCONST","selectionBox","SelectionBox","helper","SelectionHelper","event","item","collection","emissive","startPoint","clientX","clientY","isDown","length","endPoint","allSelected","select","OrbitControls","axesHelper","size","divisions","gridHelper","sphereMesh","createsphere","radius","widthSegments","heightSegments","sphereGeometry","rainbowColors","colors","Array","attributes","count","fill","setHex","floor","colorAttribute","flatMap","toArray","setAttribute","vertexColors","particleGeometry","positions","positionAttribute","particleMaterial","particleSystem","mouseX","mouseY","r","g","bSplat","mouse","raycaster","setFromCamera","particleSystemWorldPosition","particleSystemWorldQuaternion","getWorldQuaternion","particleSystemWorldScale","getWorldScale","particleSystemMatrixWorld","compose","particleSystemInverseMatrixWorld","invert","particleSystemLocalRaycaster","ray","applyMatrix4","intersection","intersectObject","getAttribute","array1","Float32Array","array","needsUpdate","array0","getX","getZ","gui","unmounted","destroy","enableDamping","normalMaterial","phongMaterial","cubeGeometry","cubeMesh","cubeShape","cubeBody","sphereShape","sphereBody","icosahedronGeometry","icosahedronMesh","icosahedronPoints","icosahedronFaces","icosahedronShape","vertices","faces","icosahedronBody","torusKnotGeometry","torusKnotMesh","torusKnotShape","CreateTrimesh","torusKnotBody","indices","Object","keys","Number","planeMesh","GUI","autoPlace","customContainer","physicsFolder","addFolder","open","value","max","_hoisted_4","CannonUtils","static","index","clone","toNonIndexed","normal","fromBufferAttribute","vertexNormals","undefined","face","a","c","normals","verticesMap","points","changes","il","v","key","round","faceIdsToRemove","n","idx","splice","cannonFaces","f","body","centreOfMass","shapeOffsets","offset","vadd","shapes","vsub","worldCenterOfMass","vectorToWorldFrame","progressBar","axisY","currentDir","onKeyDown","applyAxisAngle","_q","tempRot","weapon","multiply","TWEEN","_x","_y","_z","_w","easing","start","tempPos","tempDir","addScaledVector","metalness","roughness","opacity","pmremGenerator","envTexture","envMap","fromEquirectangular","meshes","bodies","meshId","groundMirror","Reflector","clipBias","textureWidth","textureHeight","convexObjectBreaker","ConvexObjectBreaker","geo","cube","abs","prepareBreakableObject","userData","splitCount","bullets","bulletBodies","bulletId","bulletMaterial","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","bullet","bulletShape","bulletBody","splitObject","multiplyScalar","angularVelocity","remove","removeBody","contactId","poi","pointToLocalFrame","bj","rj","shards","subdivideByImpact","d","nextId","shape","gemoetryToShape","convexHull","ConvexGeometry","geometryS","materialS","pointS","visible","geometryT","materialT","torus","onMouseMove","preventDefault","arrayMeshs","wall_intersects","intersectObjects","transformDirection","matrixWorld","point","direction","gunPos","subVectors","normalize","rotateY","rayDirection","pointB","loader","isLight","l","bias","percentComplete","loaded","total","Infinity","Floater","constructor","earth","gerstnerWater","isPlayerFloater","_defineProperty","startsWith","floatPoints","floatPoint","aabb","setFromObject","collisionSphere","getBoundingSphere","cogHelper","velocityHelper","fp","waveNormalHelper","waveNormalHelpers","gravitySlideHelper","gravitySlideHelpers","t","water","uniforms","accumulatedPosition","accumulatedNormal","fpWorldPos","sub","waveInfo","getWaveInfo","setDirection","gravitySlideDirection","divideScalar","forces","sin","heading","power","cos","lastPosition","dist","ms","setLength","center","children","GerstnerWater","waterGeometry","wrapS","wrapT","waves","steepness","wavelength","Water","waterNormals","sunDirection","sunColor","waterColor","distortionScale","fog","wireframe","onBeforeCompile","shader","offsetX","offsetZ","waveA","waveB","waveC","vertexShader","fragmentShader","waterUniforms","folderWater","waveAFolder","onChange","waveBFolder","waveCFolder","time","pos","tangent","binormal","k","sqrt","cross","cameraLerp","controlsChanging","maxPolarAngle","maxDistance","sun","sky","Sky","setScalar","skyUniforms","parameters","elevation","azimuth","renderTarget","updateSun","phi","theta","setFromSphericalCoords","dispose","fromScene","environment","divisor","divisorMultiplier","locationDataText","locationDataElem","controlledBoatId","lat","lon","boatDataText","boatDataElem","startX","startZ","floaters","loadTestBoxes","box","group","floater","folderSky","toFixed","innerText","composer","effectSobel","params","enable","doc","ambientLight","pointLight","EffectComposer","renderPass","RenderPass","addPass","effectGrayScale","ShaderPass","LuminosityShader","SobelOperatorShader","minDistance","mesh","container","outputColorSpace","toneMapping","performance","now","background","fillLight1","directionalLight","right","left","top","bottom","stats","Stats","GRAVITY","NUM_SPHERES","SPHERE_RADIUS","STEPS_PER_FRAME","sphereMaterial","spheres","sphereIdx","sphere","collider","worldOctree","Octree","playerCollider","Capsule","playerVelocity","playerDirection","playerOnFloor","mouseTime","keyStates","vector1","vector2","vector3","throwBall","getWorldDirection","end","impulse","exp","playerCollisions","result","capsuleIntersect","translate","depth","updatePlayer","deltaTime","damping","deltaPosition","playerSphereCollision","addVectors","sphere_center","r2","d2","distanceToSquared","v1","v2","spheresCollisions","s1","j","s2","updateSpheres","sphereIntersect","getForwardVector","getSideVector","speedDelta","requestPointerLock","pointerLockElement","setPath","teleportPlayerIfOob","fromGraphNode","anisotropy","OctreeHelper","debug","routes","component","WaterPage","APage","BPage","HomePage","TempPage","AboutPage","FirstPage","SecondPage","EdgeDetectPage","ShadersOceanPage","GamePage","router","createRouter","history","createWebHistory","app","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","every","getter","__esModule","definition","o","defineProperty","enumerable","get","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}