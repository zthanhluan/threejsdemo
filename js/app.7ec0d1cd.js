(function(){"use strict";var e={3261:function(e,t,n){var o=n(9242),i=n(3396);const a={id:"app"};function s(e,t,n,o,s,r){const d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(d)])}var r=n(2483);const d=(0,i._)("div",{class:"note-text",style:{color:"red"}},"A-W-S-D to move. Space to jump. Esc to exit",-1),c=(0,i._)("h1",{style:{color:"red"}},"Follow Camera",-1),l=(0,i._)("div",{id:"menuPanel"},[(0,i._)("button",{id:"startButton"},"Click to Start")],-1);function w(e,t,n,o,a,s){const r=(0,i.up)("nav-menu");return(0,i.wg)(),(0,i.iD)("div",null,[d,c,(0,i.Wm)(r),l])}n(7658);var u=n(7139);const p=(0,i.uE)('<div class="x-color-box"></div><div class="y-color-box"></div><div class="z-color-box"></div><div class="x-axis-label">X Axis</div><div class="y-axis-label">Y Axis</div><div class="z-axis-label">Z Axis</div>',6),h={class:"nav-buttons"},m=["onClick"],v=["onClick"],f=["onClick"],g=["onClick"],y=["onClick"],x=["onClick"],P=["onClick"],b=["onClick"];function z(e,t){const n=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[p,(0,i._)("div",h,[(0,i.Wm)(n,{to:"/threejsdemo/",exact:"","exact-active-class":"active","active-class":"inactive"},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{class:(0,u.C_)(["nav-button",{active:"/threejsdemo/"===e.$route.path}]),onClick:e=>t()},"Follow Cam",10,m)])),_:1}),(0,i.Wm)(n,{to:"/threejsdemo/water",exact:"","exact-active-class":"active","active-class":"inactive"},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{class:(0,u.C_)(["nav-button",{active:"/threejsdemo/water"===e.$route.path}]),onClick:e=>t()},"Water",10,v)])),_:1}),(0,i.Wm)(n,{to:"/threejsdemo/a",exact:"","exact-active-class":"active","active-class":"inactive"},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{class:(0,u.C_)(["nav-button",{active:"/threejsdemo/a"===e.$route.path}]),onClick:e=>t()},"Canon JS",10,f)])),_:1}),(0,i.Wm)(n,{to:"/threejsdemo/b",exact:"","exact-active-class":"active","active-class":"inactive"},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{class:(0,u.C_)(["nav-button",{active:"/threejsdemo/b"===e.$route.path}]),onClick:e=>t()},"Convex Object",10,g)])),_:1}),(0,i.Wm)(n,{to:"/threejsdemo/multicoloredsphere",exact:"","exact-active-class":"active","active-class":"inactive"},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{class:(0,u.C_)(["nav-button",{active:"/threejsdemo/multicoloredsphere"===e.$route.path}]),onClick:e=>t()},"Multicolored Sphere",10,y)])),_:1}),(0,i.Wm)(n,{to:"/threejsdemo/secondpage",exact:"","exact-active-class":"active","active-class":"inactive"},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{class:(0,u.C_)(["nav-button",{active:"/threejsdemo/secondpage"===e.$route.path}]),onClick:e=>t()},"Second Page",10,x)])),_:1}),(0,i.Wm)(n,{to:"/threejsdemo/about",exact:"","exact-active-class":"active","active-class":"inactive"},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{class:(0,u.C_)(["nav-button",{active:"/threejsdemo/about"===e.$route.path}]),onClick:e=>t()},"Select Box",10,P)])),_:1}),(0,i.Wm)(n,{to:"/threejsdemo/temp",exact:"","exact-active-class":"active","active-class":"inactive"},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{class:(0,u.C_)(["nav-button",{active:"/threejsdemo/temp"===e.$route.path}]),onClick:e=>t()},"Temp",10,b)])),_:1})])],64)}var M=n(89);const S={},C=(0,M.Z)(S,[["render",z]]);var _=C,W=n(1114),E=n(6032),j=n(9469),k=n(5294),A={name:"HomePage",components:{NavMenu:_},mounted(){const e=new W.xsS;var t=new W.PMe;t.position.set(2.5,5,2.5),t.angle=Math.PI/8,t.penumbra=.5,t.castShadow=!0,t.shadow.mapSize.width=1024,t.shadow.mapSize.height=1024,t.shadow.camera.near=.5,t.shadow.camera.far=20,e.add(t);var n=new W.PMe;n.position.set(-2.5,5,2.5),n.angle=Math.PI/8,n.penumbra=.5,n.castShadow=!0,n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024,n.shadow.camera.near=.5,n.shadow.camera.far=20,e.add(n);const o=new W.cPb(75,window.innerWidth/window.innerHeight,.01,100);o.position.set(0,1.4,2);const i=new W.Tme;i.rotation.order="YXZ";const a=new W.Tme;a.position.z=2,i.add(a);const s=new W.CP7;s.setSize(window.innerWidth,window.innerHeight),s.outputEncoding=W.knz,s.shadowMap.enabled=!0,this.$el.appendChild(s.domElement);const r=new k.q3;r.gravity.set(0,-9.82,0);const d=new k.F5("groundMaterial"),c=new k.F5("slipperyMaterial"),l=new k.kp(d,c,{friction:0,restitution:.3,contactEquationStiffness:1e8,contactEquationRelaxation:3});r.addContactMaterial(l);const w=new W.Tme;w.add(i),w.position.y=3,e.add(w);const u=new k.aL(.5),p=new k.uT({mass:1,material:c});let h;p.addShape(u,new k.AO(0,.5,0)),p.addShape(u,new k.AO(0,-.5,0)),p.position.set(w.position.x,w.position.y,w.position.z),p.linearDamping=.95,p.angularFactor.set(0,1,0),r.addBody(p);let m,v=!1;const f=[];let g,y;const x=new j.E;x.load("models/eve.glb",(o=>{o.scene.traverse((function(e){if(e.isMesh){let t=e;if(t.receiveShadow=!0,t.castShadow=!0,t.frustumCulled=!1,t.geometry.computeVertexNormals(),e.material){const t=e.material;t.transparent=!1,t.side=W.Wl3}}})),h=new W.Xcj(o.scene);let i=h.clipAction(o.animations[0]);f.push(i),g=f[0],e.add(o.scene),m=o.scene,t.target=m,n.target=m,x.load("models/eve@walking.glb",(e=>{console.log("loaded Eve walking");let t=h.clipAction(e.animations[0]);f.push(t),x.load("models/eve@jump.glb",(e=>{console.log("loaded Eve jump"),e.animations[0].tracks.shift();let t=h.clipAction(e.animations[0]);f.push(t),v=!0,P(f[1],!0)}),(e=>{e.lengthComputable}),(e=>{console.log(e)}))}),(e=>{e.lengthComputable}),(e=>{console.log(e)}))}),(e=>{e.lengthComputable}),(e=>{console.log(e)}));const P=(e,t)=>{e!=g&&(y=g,g=e,y.fadeOut(.1),g.reset(),g.fadeIn(.1),g.play(),t||(g.clampWhenFinished=!0,g.loop=W.jAl))};let b=!1,z=!1,M=!1,S=!1,C=!0;const _=new k.AO,A=new k.AO(0,1,0);p.addEventListener("collide",(function(e){const t=e.contact;t.bi.id==p.id?t.ni.negate(_):_.copy(t.ni),_.dot(A)>.5&&(C||P(f[1],!0),C=!0)}));const q=new W._12(100,100),D=(new W.dpR).load("img/grid.png"),H=new W.Kj0(q,new W.xoR({map:D}));H.rotateX(-Math.PI/2),H.receiveShadow=!0,e.add(H);const F=new k.JO,L=new k.uT({mass:0,material:d});L.addShape(F),L.quaternion.setFromAxisAngle(new k.AO(1,0,0),-Math.PI/2),r.addBody(L);const B=[],I=[];for(let E=0;E<10;E++){const t=new k.AO(2*Math.random(),2*Math.random(),2*Math.random()),n=new k.xu(t),o=new W.DvJ(2*t.x,2*t.y,2*t.z),i=20*(Math.random()-.5),a=2+2*E,s=20*(Math.random()-.5),c=new k.uT({mass:1,material:d});c.addShape(n);const l=new W.Kj0(o,new W.Wid);r.addBody(c),e.add(l),c.position.set(i,a,s),l.castShadow=!0,l.receiveShadow=!0,B.push(c),I.push(l)}const Z=document.getElementById("menuPanel"),O=document.getElementById("startButton");O.addEventListener("click",(()=>{T.lock()}),!1);const T=new E.q(o,s.domElement);function N(){o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight),ie()}T.addEventListener("lock",(()=>{O.style.display="none",Z.style.display="none",document.addEventListener("keydown",$,!1),document.addEventListener("keyup",$,!1),s.domElement.addEventListener("mousemove",R,!1),s.domElement.addEventListener("mousewheel",X,!1)})),T.addEventListener("unlock",(()=>{Z.style.display="block",document.removeEventListener("keydown",$,!1),document.removeEventListener("keyup",$,!1),s.domElement.removeEventListener("mousemove",R,!1),s.domElement.removeEventListener("mousewheel",X,!1),setTimeout((()=>{O.style.display="block"}),1e3)})),window.addEventListener("resize",N,!1);const R=e=>(i.rotation.y-=.002*e.movementX,i.rotation.x-=.002*e.movementY,!1),X=e=>{let t=a.position.z+.05*e.deltaY;return t>.25&&t<10&&(a.position.z=t),!1},Y={},$=e=>{Y[e.code]="keydown"===e.type,T.isLocked&&(b=Y["KeyW"],z=Y["KeyS"],M=Y["KeyA"],S=Y["KeyD"],Y["Space"]&&(!0===C&&(p.velocity.y=10,P(f[2],!1)),C=!1))},K=new W.Pa4,J=new k.AO,G=new W.USm,V=new W._fP,U=new W.Pa4,Q=new W._fP;let ee=0;const te=new W.SUY;let ne=0;function oe(){if(requestAnimationFrame(oe),v){C?h.update(ne*ee*5):h.update(ne);const e=w.position;e.y-=1,m.position.y=w.position.y,ee=m.position.distanceTo(e);const t=new W.yGw;t.lookAt(e,m.position,m.up),Q.setFromRotationMatrix(t),m.quaternion.equals(Q)||m.quaternion.rotateTowards(Q,10*ne),C&&(K.set(0,0,0),b&&(K.z=-10*ne),z&&(K.z=10*ne),M&&(K.x=-10*ne),S&&(K.x=10*ne),G.y=i.rotation.y,G.order="XYZ",V.setFromEuler(G),K.applyQuaternion(V)),m.position.lerp(w.position,.1)}J.set(K.x,K.y,K.z),p.applyImpulse(J),ne=Math.min(te.getDelta(),.1),r.step(ne),w.position.set(p.position.x,p.position.y,p.position.z),B.forEach(((e,t)=>{I[t].position.set(e.position.x,e.position.y,e.position.z),I[t].quaternion.set(e.quaternion.x,e.quaternion.y,e.quaternion.z,e.quaternion.w)})),a.getWorldPosition(U),o.position.lerpVectors(o.position,U,.1),ie()}function ie(){s.render(e,o)}oe()}};const q=(0,M.Z)(A,[["render",w]]);var D=q;const H=(0,i._)("h1",null,"Home Page",-1);function F(e,t,n,o,a,s){const r=(0,i.up)("nav-menu");return(0,i.wg)(),(0,i.iD)("div",null,[H,(0,i.Wm)(r)])}const L=13421772;var B=n(6446),I=n(1756),Z={name:"AboutPage",components:{NavMenu:_},mounted(){let e,t,n,o=this.$el;function i(){e=new W.cPb(70,window.innerWidth/window.innerHeight,1,5e3),e.position.z=1e3,t=new W.xsS,t.add(new W.Mig(5263440));const i=new W.PMe(16777215,1.5);i.position.set(0,500,2e3),i.angle=Math.PI/9,i.castShadow=!0,i.shadow.camera.near=1e3,i.shadow.camera.far=4e3,i.shadow.mapSize.width=1024,i.shadow.mapSize.height=1024,t.add(i);const s=new W.DvJ(20,20,20);for(let e=0;e<400;e++){const e=new W.Kj0(s,new W.YBo({color:16777215*Math.random()}));e.position.x=1600*Math.random()-800,e.position.y=900*Math.random()-450,e.position.z=900*Math.random()-500,e.rotation.x=2*Math.random()*Math.PI,e.rotation.y=2*Math.random()*Math.PI,e.rotation.z=2*Math.random()*Math.PI,e.scale.x=2*Math.random()+1,e.scale.y=2*Math.random()+1,e.scale.z=2*Math.random()+1,e.castShadow=!0,e.receiveShadow=!0,t.add(e)}n=new W.CP7({antialias:!0}),n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.shadowMap.enabled=!0,n.shadowMap.type=W._iA,n.setClearColor(L),o.appendChild(n.domElement),window.addEventListener("resize",a)}function a(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}function s(){requestAnimationFrame(s),r()}function r(){n.render(t,e)}i(),s();const d=new B.M(e,t),c=new I.Q(n,"selectBox");document.addEventListener("pointerdown",(function(e){for(const t of d.collection)t.material.emissive.set(0);d.startPoint.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1,.5)})),document.addEventListener("pointermove",(function(e){if(c.isDown){for(let e=0;e<d.collection.length;e++)d.collection[e].material.emissive.set(0);d.endPoint.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1,.5);const t=d.select();for(let e=0;e<t.length;e++)t[e].material.emissive.set(16711680)}})),document.addEventListener("pointerup",(function(e){d.endPoint.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1,.5);const t=d.select();for(let n=0;n<t.length;n++)t[n].material.emissive.set(16711680)}))}};const O=(0,M.Z)(Z,[["render",F]]);var T=O;const N=(0,i._)("h1",null,"Create Multicolored Sphere in Threejs",-1);function R(e,t,n,o,a,s){const r=(0,i.up)("nav-menu");return(0,i.wg)(),(0,i.iD)("div",null,[N,(0,i.Wm)(r)])}var X=n(4543),Y={name:"FirstPage",components:{NavMenu:_},mounted(){const e=new W.xsS,t=new W.cPb(75,window.innerWidth/window.innerHeight,.1,1e3),n=new W.CP7;n.setClearColor(L),n.setSize(window.innerWidth,window.innerHeight),this.$el.appendChild(n.domElement);const o=new X.z(t,n.domElement),i=new W.y8_(10);e.add(i);const a=10,s=10,r=new W.VLJ(a,s);var d;e.add(r),t.position.set(5,5,5);const c=function(){const t=4,n=32,o=32,i=new W.xo$(t,n,o);var a=[16711680,16753920,16776960,65280,255,4915330,15631086];const s=new Array(i.attributes.position.count).fill().map((()=>(new W.Ilk).setHex(a[Math.floor(Math.random()*a.length)]))),r=new W.a$l(s.flatMap((e=>e.toArray())),3);i.setAttribute("color",r);const c=new W.vBJ({vertexColors:!0});d=new W.Kj0(i,c),e.add(d)};c();const l=function(){requestAnimationFrame(l),o.update(),d.rotation.y+=.02,d.rotation.x+=.02,n.render(e,t)};function w(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}l(),window.addEventListener("resize",w)}};const $=(0,M.Z)(Y,[["render",R]]);var K=$;const J=(0,i._)("div",{class:"note-text"},"Using mouse move and mouse click",-1),G=(0,i._)("h1",null,"Create particle system in Threejs",-1);function V(e,t,n,o,a,s){const r=(0,i.up)("nav-menu");return(0,i.wg)(),(0,i.iD)("div",null,[J,G,(0,i.Wm)(r)])}n(3767),n(8585),n(8696);var U={name:"SecondPage",components:{NavMenu:_},mounted(){var e=new W.xsS,t=new W.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);t.position.set(5,1,5);var n=new W.CP7;n.setClearColor(L),n.setSize(window.innerWidth,window.innerHeight),this.$el.appendChild(n.domElement);const o=new X.z(t,n.domElement),i=new W.y8_(10);e.add(i);const a=10,s=10,r=new W.VLJ(a,s);e.add(r);const d=new W.u9r,c=[];for(let v=0;v<100;v++)c.push(W.M8C.randFloatSpread(20),W.M8C.randFloatSpread(20),W.M8C.randFloatSpread(20));const l=new W.a$l(c,3);d.setAttribute("position",l);const w=new W.UY4,u=new W.woe(d,w);e.add(u),document.addEventListener("mousemove",(function(e){var t=e.clientX,o=e.clientY;u.rotation.x+=.02,u.rotation.y+=.02,u.position.x=t/window.innerWidth*2-1,u.position.y=-o/window.innerHeight*2+1;var i=new W.Ilk(16777215);i.r=.5*u.position.x+.5,i.g=.5*u.position.y+.5,n.setClearColor(i)}));var p=!1;function h(){requestAnimationFrame(h),o.update(),n.render(e,t)}function m(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}document.addEventListener("click",(e=>{const n=new W.FM8;n.x=e.clientX/window.innerWidth*2-1,n.y=-e.clientY/window.innerHeight*2+1;const o=new W.iMs;o.setFromCamera(n,t);const i=new W.Pa4;u.getWorldPosition(i);const a=new W._fP;u.getWorldQuaternion(a);const s=new W.Pa4;u.getWorldScale(s);const r=new W.yGw;r.compose(i,a,s);var c=new W.yGw;c=r,c.invert();const l=new W.iMs;l.ray.copy(o.ray),l.ray.applyMatrix4(c);const w=l.intersectObject(u);if(w.length>0){const e=d.getAttribute("position");if(p){const t=new Float32Array(3*e.count);for(let n=0;n<3*e.count;n++)t[n]=W.M8C.randFloatSpread(20);e.array=t,e.needsUpdate=!0,p=!1}else{const t=new Float32Array(3*e.count);for(let n=0;n<3*e.count;n+=3)t[n]=e.getX(n/3),t[n+1]=0,t[n+2]=e.getZ(n/3);e.array=t,e.needsUpdate=!0,p=!0}}})),h(),window.addEventListener("resize",m)}};const Q=(0,M.Z)(U,[["render",V]]);var ee=Q;const te=(0,i._)("h1",null,"Create Temp Page in Threejs",-1);function ne(e,t,n,o,a,s){const r=(0,i.up)("nav-menu");return(0,i.wg)(),(0,i.iD)("div",null,[te,(0,i.Wm)(r)])}var oe={name:"TempPage",components:{NavMenu:_},mounted(){const e=new W.xsS,t=new W.cPb(75,window.innerWidth/window.innerHeight,.1,1e3),n=new W.CP7;n.setClearColor(L),n.setSize(window.innerWidth,window.innerHeight),this.$el.appendChild(n.domElement);const o=new X.z(t,n.domElement),i=new W.y8_(10);e.add(i),t.position.set(5,5,5);const a=function(){requestAnimationFrame(a),o.update(),n.render(e,t)};function s(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}a(),window.addEventListener("resize",s)}};const ie=(0,M.Z)(oe,[["render",ne]]);var ae=ie;const se=(0,i._)("h1",null,"Physics with Cannon in Threejs",-1),re=(0,i._)("div",{id:"my-gui-container"},null,-1);function de(e,t,n,o,a,s){const r=(0,i.up)("nav-menu");return(0,i.wg)(),(0,i.iD)("div",null,[se,(0,i.Wm)(r),re])}var ce=n(5461);let le;var we={name:"APage",components:{NavMenu:_},unmounted(){le&&le.destroy(),le=null},mounted(){const e=new W.xsS,t=new W.cPb(75,window.innerWidth/window.innerHeight,.1,1e3),n=new W.CP7;n.setClearColor(L),n.setSize(window.innerWidth,window.innerHeight),n.shadowMap.enabled=!0,this.$el.appendChild(n.domElement);const o=new X.z(t,n.domElement);o.enableDamping=!0,o.target.y=.5;const i=new W.y8_(10);e.add(i),t.position.set(0,4,6);const a=new W.PMe;a.position.set(2.5,5,5),a.angle=Math.PI/4,a.penumbra=.5,a.castShadow=!0,a.shadow.mapSize.width=1024,a.shadow.mapSize.height=1024,a.shadow.camera.near=.5,a.shadow.camera.far=20,e.add(a);const s=new W.PMe;s.position.set(-2.5,5,5),s.angle=Math.PI/4,s.penumbra=.5,s.castShadow=!0,s.shadow.mapSize.width=1024,s.shadow.mapSize.height=1024,s.shadow.camera.near=.5,s.shadow.camera.far=20,e.add(s);const r=new k.q3;r.gravity.set(0,-9.82,0);const d=new W.RSm,c=new W.xoR,l=new W.DvJ(1,1,1),w=new W.Kj0(l,d);w.position.x=-3,w.position.y=3,w.castShadow=!0,e.add(w);const u=new k.xu(new k.AO(.5,.5,.5)),p=new k.uT({mass:1});p.addShape(u),p.position.x=w.position.x,p.position.y=w.position.y,p.position.z=w.position.z,r.addBody(p);const h=new W.xo$,m=new W.Kj0(h,d);m.position.x=-1,m.position.y=3,m.castShadow=!0,e.add(m);const v=new k.aL(1),f=new k.uT({mass:1});f.addShape(v),f.position.x=m.position.x,f.position.y=m.position.y,f.position.z=m.position.z,r.addBody(f);const g=new W.cJO(1,0),y=new W.Kj0(g,d);y.position.x=1,y.position.y=3,y.castShadow=!0,e.add(y);const x=y.geometry.attributes.position.array,P=[];for(let W=0;W<x.length;W+=3)P.push(new k.AO(x[W],x[W+1],x[W+2]));const b=[];for(let W=0;W<x.length/3;W+=3)b.push([W,W+1,W+2]);const z=new k.YD({vertices:P,faces:b}),M=new k.uT({mass:1});M.addShape(z),M.position.x=y.position.x,M.position.y=y.position.y,M.position.z=y.position.z,r.addBody(M);const S=new W.FE5,C=new W.Kj0(S,d);C.position.x=4,C.position.y=3,C.castShadow=!0,e.add(C);const _=j(C.geometry),E=new k.uT({mass:1});function j(e){const t=e.attributes.position.array,n=Object.keys(t).map(Number);return new k.np(t,n)}E.addShape(_),E.position.x=C.position.x,E.position.y=C.position.y,E.position.z=C.position.z,r.addBody(E);const A=new W._12(25,25),q=new W.Kj0(A,c);q.rotateX(-Math.PI/2),q.receiveShadow=!0,e.add(q);const D=new k.JO,H=new k.uT({mass:0});H.addShape(D),H.quaternion.setFromAxisAngle(new k.AO(1,0,0),-Math.PI/2),r.addBody(H),le=new ce.XS({autoPlace:!1});var F=document.getElementById("my-gui-container");F.appendChild(le.domElement);const B=le.addFolder("Physics");B.add(r.gravity,"x",-10,10,.1),B.add(r.gravity,"y",-10,10,.1),B.add(r.gravity,"z",-10,10,.1),B.open();const I=new W.SUY;let Z;function O(){requestAnimationFrame(O),o.update(),Z=Math.min(I.getDelta(),.1),r.step(Z),w.position.set(p.position.x,p.position.y,p.position.z),w.quaternion.set(p.quaternion.x,p.quaternion.y,p.quaternion.z,p.quaternion.w),m.position.set(f.position.x,f.position.y,f.position.z),m.quaternion.set(f.quaternion.x,f.quaternion.y,f.quaternion.z,f.quaternion.w),y.position.set(M.position.x,M.position.y,M.position.z),y.quaternion.set(M.quaternion.x,M.quaternion.y,M.quaternion.z,M.quaternion.w),C.position.set(E.position.x,E.position.y,E.position.z),C.quaternion.set(E.quaternion.x,E.quaternion.y,E.quaternion.z,E.quaternion.w),T()}function T(){n.render(e,t)}function N(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight),T()}O(),window.addEventListener("resize",N)}};const ue=(0,M.Z)(we,[["render",de]]);var pe=ue;const he=(0,i._)("div",{class:"note-text",style:{color:"red"}},"A-W-S-D to move camera. Arrow key to move vehicle. Left click to shoot. Esc to exit",-1),me=(0,i._)("h1",{style:{color:"red"}},"Create Convex Object Breaker in Threejs",-1),ve=(0,i._)("progress",{value:"0",max:"100",id:"progressBar"},null,-1),fe=(0,i._)("div",{id:"menuPanel"},[(0,i._)("button",{id:"startButton"},"Click to Start")],-1);function ge(e,t,n,o,a,s){const r=(0,i.up)("nav-menu");return(0,i.wg)(),(0,i.iD)("div",null,[he,me,ve,(0,i.Wm)(r),fe])}class ye{static CreateTrimesh(e){let t;t=null===e.index?e.attributes.position.array:e.clone().toNonIndexed().attributes.position.array;const n=Object.keys(t).map(Number);return new k.np(t,n)}static CreateConvexPolyhedron(e){const t=e.attributes.position,n=e.attributes.normal,o=[];for(let l=0;l<t.count;l++)o.push((new W.Pa4).fromBufferAttribute(t,l));const i=[];for(let l=0;l<t.count;l+=3){const e=void 0===n?[]:[(new W.Pa4).fromBufferAttribute(n,l),(new W.Pa4).fromBufferAttribute(n,l+1),(new W.Pa4).fromBufferAttribute(n,l+2)],t={a:l,b:l+1,c:l+2,normals:e};i.push(t)}const a={},s=[],r=[];for(let l=0,w=o.length;l<w;l++){const e=o[l],t=Math.round(100*e.x)+"_"+Math.round(100*e.y)+"_"+Math.round(100*e.z);void 0===a[t]?(a[t]=l,s.push(new k.AO(o[l].x,o[l].y,o[l].z)),r[l]=s.length-1):r[l]=r[a[t]]}const d=[];for(let l=0,w=i.length;l<w;l++){const e=i[l];e.a=r[e.a],e.b=r[e.b],e.c=r[e.c];const t=[e.a,e.b,e.c];for(let n=0;n<3;n++)if(t[n]===t[(n+1)%3]){d.push(l);break}}for(let l=d.length-1;l>=0;l--){const e=d[l];i.splice(e,1)}const c=i.map((function(e){return[e.a,e.b,e.c]}));return new k.YD({vertices:s,faces:c})}static offsetCenterOfMass(e,t){e.shapeOffsets.forEach((function(e){t.vadd(e,t)})),t.scale(1/e.shapes.length,t),e.shapeOffsets.forEach((function(e){e.vsub(t,e)}));const n=new k.AO;e.vectorToWorldFrame(t,n),e.position.vadd(n,e.position)}}var xe=ye,Pe=n(5750),be=n(4563),ze=n(1273),Me=n(9013),Se={name:"BPage",components:{NavMenu:_},mounted(){const e=new W.xsS,t=new W.Ox3;t.position.set(20,20,20),e.add(t);const n=new W.Ox3;n.position.set(-20,20,20),e.add(n);const o=new W.cPb(75,window.innerWidth/window.innerHeight,.1,1e3),i=new W.CP7({antialias:!0});i.setSize(window.innerWidth,window.innerHeight),this.$el.appendChild(i.domElement);const a=document.getElementById("progressBar"),s=document.getElementById("menuPanel"),r=document.getElementById("startButton");r.addEventListener("click",(function(){d.lock()}),!1);const d=new E.q(o,i.domElement);d.addEventListener("lock",(()=>s.style.display="none")),d.addEventListener("unlock",(()=>s.style.display="block")),o.position.y=1,o.position.z=4;let c=new W.Pa4(0,1,0),l=new W.Pa4(0,0,1);const w=function(e){switch(e.key){case"w":d.moveForward(.25);break;case"a":d.moveRight(-.25);break;case"s":d.moveForward(-.25);break;case"d":d.moveRight(.25);break;case"ArrowRight":{l.applyAxisAngle(c,-Math.PI/10);let e=new W._fP;e.setFromAxisAngle(c,-Math.PI/10);let t=new W._fP;t.copy(N.quaternion),t.multiply(e),new Me.ZP.Tween(N.quaternion).to({_x:t._x,_y:t._y,_z:t._z,_w:t._w},1e3).easing(Me.ZP.Easing.Cubic.Out).start()}break;case"ArrowLeft":{l.applyAxisAngle(c,Math.PI/10);let e=new W._fP;e.setFromAxisAngle(c,Math.PI/10);let t=new W._fP;t.copy(N.quaternion),t.multiply(e),new Me.ZP.Tween(N.quaternion).to({_x:t._x,_y:t._y,_z:t._z,_w:t._w},1e3).easing(Me.ZP.Easing.Cubic.Out).start()}break;case"ArrowUp":{let e=new W.Pa4;e.copy(N.position);let t=new W.Pa4(0,0,1);t.applyQuaternion(N.quaternion),t.y=0,e.addScaledVector(t,.5),new Me.ZP.Tween(N.position).to({x:e.x,y:e.y,z:e.z},1e3).easing(Me.ZP.Easing.Cubic.Out).start()}break;case"ArrowDown":{let e=new W.Pa4;e.copy(N.position);let t=new W.Pa4(0,0,1);t.applyQuaternion(N.quaternion),t.y=0,e.addScaledVector(t,-.5),new Me.ZP.Tween(N.position).to({x:e.x,y:e.y,z:e.z},1e3).easing(Me.ZP.Easing.Cubic.Out).start()}break;case"Space":N.position.set(0,0,0);break}};document.addEventListener("keydown",w,!1);const u=new k.q3;u.gravity.set(0,-9.82,0);const p=new W.Wid({color:16777215,metalness:1,roughness:.25,transparent:!0,opacity:.75,side:W.ehD}),h=new W.anP(i),m=(new W.dpR).load("img/pano-equirectangular.jpg",(()=>{p.envMap=h.fromEquirectangular(m).texture})),v={},f={};let g=0;const y=new ze.r(new W._12(1024,1024),{color:new W.Ilk(2236962),clipBias:.003,textureWidth:window.innerWidth*window.devicePixelRatio,textureHeight:window.innerHeight*window.devicePixelRatio});y.position.y=-.05,y.rotateX(-Math.PI/2),e.add(y);const x=new k.JO,P=new k.uT({mass:0});P.addShape(x),P.quaternion.setFromAxisAngle(new k.AO(1,0,0),-Math.PI/2),u.addBody(P);const b=new be.p;for(let E=0;E<20;E++){const t={x:4*Math.random()+2,y:10*Math.random()+5,z:4*Math.random()+2},n=new W.DvJ(t.x,t.y,t.z),i=new W.Kj0(n,p);i.position.x=50*Math.random()-25,i.position.y=t.y/2+.1,i.position.z=50*Math.random()-25,Math.abs(i.position.x-o.position.x)<5&&Math.abs(i.position.z-o.position.z)<5&&(i.position.x+=5,i.position.z+=5),e.add(i),v[g]=i,b.prepareBreakableObject(v[g],1,new W.Pa4,new W.Pa4,!0);const a=new k.xu(new k.AO(t.x/2,t.y/2,t.z/2)),s=new k.uT({mass:1});s.userData={splitCount:0,id:g},s.addShape(a),s.position.x=i.position.x,s.position.y=i.position.y,s.position.z=i.position.z,u.addBody(s),f[g]=s,g++}const z={},M={};let S=0;const C=new W.EJi({map:(new W.dpR).load("img/marble.png"),clearcoat:1,clearcoatRoughness:0,clearcoatMap:null,clearcoatRoughnessMap:null,metalness:.4,roughness:.3,color:"white"});function _(){if(d.isLocked){const t=new W.Kj0(new W.xo$(.5,16,16),C);t.position.copy(N.position),t.position.y+=2,e.add(t),z[S]=t;const n=new k.aL(.5),o=new k.uT({mass:1});o.addShape(n),o.position.x=N.position.x,o.position.y=N.position.y,o.position.z=N.position.z,o.position.y+=2,u.addBody(o),M[S]=o,o.addEventListener("collide",(e=>{e.body.userData&&e.body.userData.splitCount<2&&A(e.body.userData,e.contact)}));const i=new W.Pa4(0,0,1);i.applyQuaternion(N.quaternion),i.multiplyScalar(50),o.velocity.set(i.x,i.y,i.z),o.angularVelocity.set(10*Math.random()+1,10*Math.random()+1,10*Math.random()+1),S++;while(Object.keys(z).length>5)e.remove(z[S-6]),delete z[S-6],u.removeBody(M[S-6]),delete M[S-6]}}function A(t,n){const o=t.id;if(v[o]){const i=f[o].pointToLocalFrame(n.bj.position.vadd(n.rj)),a=new W.Pa4(n.ni.x,n.ni.y,n.ni.z).negate(),s=b.subdivideByImpact(v[o],new W.Pa4(i.x,i.y,i.z),a,1,0);e.remove(v[o]),delete v[o],u.removeBody(f[o]),delete f[o],s.forEach((n=>{const o=g++;e.add(n),v[o]=n,n.geometry.scale(.99,.99,.99);const i=q(n.geometry),a=new k.uT({mass:1});a.addShape(i),a.userData={splitCount:t.splitCount+1,id:o},a.position.x=n.position.x,a.position.y=n.position.y,a.position.z=n.position.z,a.quaternion.x=n.quaternion.x,a.quaternion.y=n.quaternion.y,a.quaternion.z=n.quaternion.z,a.quaternion.w=n.quaternion.w,u.addBody(a),f[o]=a}))}}function q(e){const t=e.attributes.position.array,n=[];for(let a=0;a<t.length;a+=3)n.push(new W.Pa4(t[a],t[a+1],t[a+2]));const o=new Pe.u(n),i=xe.CreateConvexPolyhedron(o);return i}document.addEventListener("click",_,!1);const D=new W.FM8,H=new W.iMs,F=new W.xo$(.05),L=new W.vBJ({color:0}),B=new W.Kj0(F,L);e.add(B),B.visible=!1;const I=new W.XvJ(.2,.01,16,100),Z=new W.vBJ({color:16711680}),O=new W.Kj0(I,Z);function T(e){e.preventDefault(),D.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),H.setFromCamera(D,o);let t=[];Object.keys(v).forEach((e=>{t.push(v[e])}));const n=H.intersectObjects(t,!1);if(n.length>0){const e=new W.Pa4;if(e.copy(n[0].face.normal),e.transformDirection(n[0].object.matrixWorld),B.lookAt(e),B.position.copy(n[0].point),B.position.addScaledVector(e,.1),B.visible=!0,O.lookAt(e),O.position.copy(n[0].point),O.position.addScaledVector(e,.1),O.visible=!0,N){const e=new W.yGw,t=new W.Pa4,n=new W.Pa4;n.set(N.position.x,N.position.y+2,N.position.z),t.subVectors(B.position,n).normalize(),e.lookAt(N.position,N.position.clone().add(t),N.up),N.quaternion.setFromRotationMatrix(e),N.rotateY(Math.PI)}}else if(B.visible=!1,O.visible=!1,N){const e=new W.yGw,t=H.ray.direction.clone(),n=new W.Pa4;n.copy(o.position).add(t.multiplyScalar(1e3));const i=new W.Pa4,a=new W.Pa4;a.set(N.position.x,N.position.y+2,N.position.z),i.subVectors(n,a).normalize(),e.lookAt(N.position,N.position.clone().add(i),N.up),N.quaternion.setFromRotationMatrix(e),N.rotateY(Math.PI)}t=[]}e.add(O),O.visible=!1,i.domElement.addEventListener("mousemove",T,!1);var N=null;const R=new j.E;function X(){o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight),J()}R.load("models/artillery_military_weapon.glb",(function(t){a.style.display="none",t.scene.traverse((function(e){if(e.isMesh){const t=e;t.receiveShadow=!0,t.castShadow=!0}if(e.isLight){const t=e;t.castShadow=!0,t.shadow.bias=-.003,t.shadow.mapSize.width=2048,t.shadow.mapSize.height=2048}})),t.scene.scale.set(.01,.01,.01),N=t.scene,N.rotateY(Math.PI),e.add(t.scene)}),(e=>{const t=e.loaded/e.total*100;a.value=t===1/0?100:t})),window.addEventListener("resize",X,!1);const Y=new W.SUY;let $;function K(){requestAnimationFrame(K),$=Y.getDelta(),$>.1&&($=.1),u.step($),Object.keys(v).forEach((e=>{v[e].position.set(f[e].position.x,f[e].position.y,f[e].position.z),v[e].quaternion.set(f[e].quaternion.x,f[e].quaternion.y,f[e].quaternion.z,f[e].quaternion.w)})),Object.keys(z).forEach((e=>{z[e].position.set(M[e].position.x,M[e].position.y,M[e].position.z),z[e].quaternion.set(M[e].quaternion.x,M[e].quaternion.y,M[e].quaternion.z,M[e].quaternion.w)})),Me.ZP.update(),J()}function J(){i.render(e,o)}K()}};const Ce=(0,M.Z)(Se,[["render",ge]]);var _e=Ce;const We=(0,i._)("div",{id:"boatData"},null,-1),Ee=(0,i._)("div",{id:"locationData"},null,-1),je=(0,i._)("h1",null,"Create Water in Threejs",-1);function ke(e,t,n,o,a,s){const r=(0,i.up)("nav-menu");return(0,i.wg)(),(0,i.iD)("div",null,[We,Ee,je,(0,i.Wm)(r)])}var Ae=n(9653),qe=n(7327);class De{constructor(e,t,n,o=!1){if((0,qe.Z)(this,"earth",void 0),(0,qe.Z)(this,"object",void 0),(0,qe.Z)(this,"gerstnerWater",void 0),(0,qe.Z)(this,"cogHelper",void 0),(0,qe.Z)(this,"velocityHelper",void 0),(0,qe.Z)(this,"waveNormalHelpers",[]),(0,qe.Z)(this,"gravityHelpers",[]),(0,qe.Z)(this,"gravitySlideHelpers",[]),(0,qe.Z)(this,"floatPoints",[]),(0,qe.Z)(this,"down",new W.Pa4(0,-1,0)),(0,qe.Z)(this,"heading",0),(0,qe.Z)(this,"power",0),(0,qe.Z)(this,"isPlayerFloater",!1),(0,qe.Z)(this,"collisionSphere",void 0),(0,qe.Z)(this,"lastPosition",new W.Pa4),(0,qe.Z)(this,"velocity",new W.Pa4),(0,qe.Z)(this,"ms",0),(0,qe.Z)(this,"forces",[]),this.earth=e,this.object=t,this.gerstnerWater=n,this.isPlayerFloater=o,this.object.traverse((e=>{e.name.startsWith("floatPoint")&&this.floatPoints.push(e)})),!this.floatPoints.length){const e=new W.Tme;this.object.add(e),this.floatPoints.push(e)}const i=(new W.ZzF).setFromObject(this.object);this.collisionSphere=new W.aLr,i.getBoundingSphere(this.collisionSphere),this.cogHelper=new W.tGC(new W.Pa4,new W.Pa4,7.5,65280),e.add(this.cogHelper),this.velocityHelper=new W.tGC(new W.Pa4,new W.Pa4,7.5,16711935),e.add(this.velocityHelper),this.floatPoints.forEach((t=>{const n=new W.tGC(new W.Pa4,new W.Pa4,5,16776960);n.position.copy(t.position),this.waveNormalHelpers.push(n),e.add(n);const o=new W.tGC(new W.Pa4(0,1,0),new W.Pa4,5,65535);o.position.copy(t.position),this.gravitySlideHelpers.push(o),e.add(o)}))}update(e){const t=this.gerstnerWater.water.material.uniforms["time"].value,n=new W.Pa4,o=new W.Pa4(0,0,0);this.floatPoints.forEach(((e,i)=>{const a=new W.Pa4;e.getWorldPosition(a),a.sub(this.earth.position);const s=this.gerstnerWater.getWaveInfo(this.object.position.x,this.object.position.z,a.x,a.z,t);this.waveNormalHelpers[i].setDirection(s.normal),this.waveNormalHelpers[i].position.copy(a);const r=new W.Pa4(0,-1,0).add(s.normal).divideScalar(2).normalize();this.gravitySlideHelpers[i].setDirection(r),this.gravitySlideHelpers[i].position.copy(a),n.y+=s.position.y,n.x+=this.object.position.x+s.normal.x,n.z+=this.object.position.z+s.normal.z,o.add(s.normal)})),n.divideScalar(this.floatPoints.length),this.forces.length&&(this.forces.forEach((e=>{n.x+=e.x,n.z+=e.z})),this.forces=[]),n.x+=Math.sin(this.heading)*this.power,n.z+=Math.cos(this.heading)*this.power,this.object.position.lerp(n,.25),this.velocity=this.lastPosition.clone().sub(n).negate(),this.velocityHelper.setDirection(this.velocity),this.velocityHelper.position.set(n.x,n.y+1,n.z);const i=n.distanceTo(this.lastPosition);this.ms=1e3*i*e,this.velocityHelper.setLength(this.ms),this.lastPosition=n,this.collisionSphere.center.copy(this.object.position),o.divideScalar(this.floatPoints.length).normalize(),this.cogHelper.setDirection(o),this.cogHelper.position.copy(n),this.object.children[0].rotation.y=this.heading,this.object.quaternion.rotateTowards(this.cogHelper.quaternion,.2*e),this.isPlayerFloater&&(this.gerstnerWater.water.position.x=-this.earth.position.x,this.gerstnerWater.water.position.z=-this.earth.position.z,this.gerstnerWater.water.material.uniforms["offsetX"].value=-this.earth.position.x,this.gerstnerWater.water.material.uniforms["offsetZ"].value=-this.earth.position.z)}}var He=n(2431);class Fe{constructor(e){(0,qe.Z)(this,"water",void 0),(0,qe.Z)(this,"waves",void 0),(0,qe.Z)(this,"texture",void 0);const t=new W._12(4096,4096,256,256);this.texture=(new W.dpR).load("img/waternormals.jpg",(function(e){e.wrapS=e.wrapT=W.rpg})),this.waves=[{direction:0,steepness:.15,wavelength:100},{direction:30,steepness:.15,wavelength:50},{direction:60,steepness:.15,wavelength:25}],this.water=new He.B(t,{textureWidth:512,textureHeight:512,waterNormals:this.texture,sunDirection:new W.Pa4,sunColor:16777215,waterColor:7695,distortionScale:8,fog:void 0}),this.water.material.wireframe=!1,this.water.rotation.x=-Math.PI/2,this.water.material.onBeforeCompile=e=>{e.uniforms.offsetX={value:0},e.uniforms.offsetZ={value:0},e.uniforms.waveA={value:[Math.sin(this.waves[0].direction*Math.PI/180),Math.cos(this.waves[0].direction*Math.PI/180),this.waves[0].steepness,this.waves[0].wavelength]},e.uniforms.waveB={value:[Math.sin(this.waves[1].direction*Math.PI/180),Math.cos(this.waves[1].direction*Math.PI/180),this.waves[1].steepness,this.waves[1].wavelength]},e.uniforms.waveC={value:[Math.sin(this.waves[2].direction*Math.PI/180),Math.cos(this.waves[2].direction*Math.PI/180),this.waves[2].steepness,this.waves[2].wavelength]},e.vertexShader="\n                uniform mat4 textureMatrix;\n                uniform float time;\n\n                varying vec4 mirrorCoord;\n                varying vec4 worldPosition;\n\n                #include <common>\n                #include <fog_pars_vertex>\n                #include <shadowmap_pars_vertex>\n                #include <logdepthbuf_pars_vertex>\n\n                uniform vec4 waveA;\n                uniform vec4 waveB;\n                uniform vec4 waveC;\n\n                uniform float offsetX;\n                uniform float offsetZ;\n\n                vec3 GerstnerWave (vec4 wave, vec3 p) {\n                    float steepness = wave.z;\n                    float wavelength = wave.w;\n                    float k = 2.0 * PI / wavelength;\n                    float c = sqrt(9.8 / k);\n                    vec2 d = normalize(wave.xy);\n                    float f = k * (dot(d, vec2(p.x, p.y)) - c * time);\n                    float a = steepness / k;\n\n                    return vec3(\n                        d.x * (a * cos(f)),\n                        d.y * (a * cos(f)),\n                        a * sin(f)\n                    );\n                }\n\n                void main() {\n\n                    mirrorCoord = modelMatrix * vec4( position, 1.0 );\n                    worldPosition = mirrorCoord.xyzw;\n                    mirrorCoord = textureMatrix * mirrorCoord;\n\n                    vec3 gridPoint = position.xyz;\n                    vec3 tangent = vec3(1, 0, 0);\n                    vec3 binormal = vec3(0, 0, 1);\n                    vec3 p = gridPoint;\n                    gridPoint.x += offsetX;//*2.0;\n                    gridPoint.y -= offsetZ;//*2.0;\n                    p += GerstnerWave(waveA, gridPoint);\n                    p += GerstnerWave(waveB, gridPoint);\n                    p += GerstnerWave(waveC, gridPoint);\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4( p.x, p.y, p.z, 1.0);\n\n                    #include <beginnormal_vertex>\n                    #include <defaultnormal_vertex>\n                    #include <logdepthbuf_vertex>\n                    #include <fog_vertex>\n                    #include <shadowmap_vertex>\n                }",e.fragmentShader="\n                uniform sampler2D mirrorSampler;\n                uniform float alpha;\n                uniform float time;\n                uniform float size;\n                uniform float distortionScale;\n                uniform sampler2D normalSampler;\n                uniform vec3 sunColor;\n                uniform vec3 sunDirection;\n                uniform vec3 eye;\n                uniform vec3 waterColor;\n\n                varying vec4 mirrorCoord;\n                varying vec4 worldPosition;\n\n                uniform float offsetX;\n                uniform float offsetZ;\n\n                vec4 getNoise( vec2 uv ) {\n                    vec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\n                    vec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\n                    vec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\n                    vec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\n                    vec4 noise = texture2D( normalSampler, uv0 ) +\n                        texture2D( normalSampler, uv1 ) +\n                        texture2D( normalSampler, uv2 ) +\n                        texture2D( normalSampler, uv3 );\n                    return noise * 0.5 - 1.0;\n                }\n\n                void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {\n                    vec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\n                    float direction = max( 0.0, dot( eyeDirection, reflection ) );\n                    specularColor += pow( direction, shiny ) * sunColor * spec;\n                    diffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\n                }\n\n                #include <common>\n                #include <packing>\n                #include <bsdfs>\n                #include <fog_pars_fragment>\n                #include <logdepthbuf_pars_fragment>\n                #include <lights_pars_begin>\n                #include <shadowmap_pars_fragment>\n                #include <shadowmask_pars_fragment>\n\n                void main() {\n\n                    #include <logdepthbuf_fragment>\n\n                    vec4 noise = getNoise( (worldPosition.xz) + vec2(offsetX/12.25,offsetZ/12.25) * size );\n                    vec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\n\n                    vec3 diffuseLight = vec3(0.0);\n                    vec3 specularLight = vec3(0.0);\n\n                    vec3 worldToEye = eye-worldPosition.xyz;\n                    vec3 eyeDirection = normalize( worldToEye );\n                    sunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\n\n                    float distance = length(worldToEye);\n\n                    vec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\n                    vec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.w + distortion ) );\n\n                    float theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\n                    float rf0 = 0.3;\n                    float reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\n                    vec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\n                    vec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);\n                    vec3 outgoingLight = albedo;\n                    gl_FragColor = vec4( outgoingLight, alpha );\n\n                    #include <tonemapping_fragment>\n                    #include <fog_fragment>\n                }",e.uniforms.size.value=10};const n=this.water.material.uniforms,o=e.addFolder("Water");o.add(n.distortionScale,"value",0,8,.1).name("distortionScale"),o.add(n.size,"value",.1,10,.1).name("size"),o.add(this.water.material,"wireframe");const i=e.addFolder("Wave A");i.add(this.waves[0],"direction",0,359).name("Direction").onChange((e=>{const t=e*Math.PI/180;n.waveA.value[0]=Math.sin(t),n.waveA.value[1]=Math.cos(t)})),i.add(this.waves[0],"steepness",0,1,.01).name("Steepness").onChange((e=>{n.waveA.value[2]=e})),i.add(this.waves[0],"wavelength",1,100).name("Wavelength").onChange((e=>{n.waveA.value[3]=e}));const a=e.addFolder("Wave B");a.add(this.waves[1],"direction",0,359).name("Direction").onChange((e=>{const t=e*Math.PI/180;n.waveB.value[0]=Math.sin(t),n.waveB.value[1]=Math.cos(t)})),a.add(this.waves[1],"steepness",0,1,.01).name("Steepness").onChange((e=>{n.waveB.value[2]=e})),a.add(this.waves[1],"wavelength",1,100).name("Wavelength").onChange((e=>{n.waveB.value[3]=e}));const s=e.addFolder("Wave C");s.add(this.waves[2],"direction",0,359).name("Direction").onChange((e=>{const t=e*Math.PI/180;n.waveC.value[0]=Math.sin(t),n.waveC.value[1]=Math.cos(t)})),s.add(this.waves[2],"steepness",0,1,.01).name("Steepness").onChange((e=>{n.waveC.value[2]=e})),s.add(this.waves[2],"wavelength",1,100).name("Wavelength").onChange((e=>{n.waveC.value[3]=e}))}getWaveInfo(e,t,n,o,i){const a=new W.Pa4,s=new W.Pa4(1,0,0),r=new W.Pa4(0,0,1);this.waves.forEach((e=>{const t=2*Math.PI/e.wavelength,d=Math.sqrt(9.8/t),c=new W.FM8(Math.sin(e.direction*Math.PI/180),-Math.cos(e.direction*Math.PI/180)),l=t*(c.dot(new W.FM8(n,o))-d*i),w=e.steepness/t;a.x+=c.x*(w*Math.cos(l)),a.y+=w*Math.sin(l),a.z+=c.y*(w*Math.cos(l)),s.x+=-c.x*c.x*(e.steepness*Math.sin(l)),s.y+=c.x*(e.steepness*Math.cos(l)),s.z+=-c.x*c.y*(e.steepness*Math.sin(l)),r.x+=-c.x*c.y*(e.steepness*Math.sin(l)),r.y+=c.y*(e.steepness*Math.cos(l)),r.z+=-c.y*c.y*(e.steepness*Math.sin(l))}));const d=r.cross(s).normalize();return{position:a,normal:d}}update(e){this.water.material.uniforms["time"].value+=e}}let Le;var Be={name:"WaterPage",components:{NavMenu:_},unmounted(){Le&&Le.destroy(),Le=null},mounted(){const e=new W.xsS,t=new W.ZAu;e.add(t);const n=new W.CP7({antialias:!0});n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.outputEncoding=W.knz,this.$el.appendChild(n.domElement);const o=new W.cPb(75,window.innerWidth/window.innerHeight,.1,5e4);let i=!1,a=!1;const s=new X.z(o,n.domElement);s.enableDamping=!0,s.maxDistance=100,s.addEventListener("start",(()=>{a=!0,i=!1})),s.addEventListener("end",(()=>{a=!1}));const r=new W.Pa4;Le=new ce.XS;const d=new Fe(Le);t.add(d.water);const c=new Ae.q;c.scale.setScalar(1e4),e.add(c);const l=c.material.uniforms;l["turbidity"].value=10,l["rayleigh"].value=2,l["mieCoefficient"].value=.005,l["mieDirectionalG"].value=.8;const w={elevation:2,azimuth:180},u=new W.anP(n);function p(){const t=W.M8C.degToRad(90-w.elevation),n=W.M8C.degToRad(w.azimuth);r.setFromSphericalCoords(1,t,n),c.material.uniforms["sunPosition"].value.copy(r),d.water.material.uniforms["sunDirection"].value.copy(r),e.environment=u.fromScene(c).texture}p();const h=-46080,m=1.40625;let v="";const f=document.getElementById("locationData");let g=0;const y=new W.Tme,x=15.0302,P=-24.4485;let b="";const z=document.getElementById("boatData"),M=P*h/m,S=-x*h/m;let C=[];const _=new j.E;_.load("models/boat.glb",(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material=new W.Wid({roughness:0}))}));const n=new W.ZAu;n.add(e.scene);const a=new De(t,n,d,!0);C.push(a),g=C.length-1,e.scene.add(y),y.position.set(0,5,-7.5),n.position.x=M,n.position.z=S,o.position.set(n.position.x,100,n.position.z-100),t.add(n),i=!0,o.position.set(0,100,-100)}),(e=>{console.log(e.loaded/e.total*100+"% loaded")}),(e=>{console.log(e)}));const E=Le.addFolder("Sky");function k(){o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}E.add(w,"elevation",0,90,.1).onChange(p),E.add(w,"azimuth",-180,180,.1).onChange(p),window.addEventListener("resize",k);const A=function(e){switch(e.code){case"KeyW":a||(i=!0),C[g].power<1&&(C[g].power+=.01);break;case"KeyA":a||(i=!0),C[g].heading+=.05;break;case"KeyS":a||(i=!0),C[g].power>-1&&(C[g].power-=.01);break;case"KeyD":a||(i=!0),C[g].heading-=.05;break}};document.addEventListener("keydown",A,!1);const q=new W.SUY;let D=0;function H(){if(requestAnimationFrame(H),D=q.getDelta(),C.forEach((e=>{e.update(D)})),C[g]&&(t.position.x=-C[g].object.position.x,t.position.z=-C[g].object.position.z,b="pwr:"+C[g].power.toFixed(2)+" ms:"+C[g].ms.toFixed(2)+" kts:"+(1.94384*C[g].ms).toFixed(2)+" hdg:"+-(C[g].heading/Math.PI*180).toFixed(2),z.innerText=b,i)){const e=new W.Pa4;y.getWorldPosition(e),o.position.lerp(e,.025),s.target.y=C[g].object.position.y+2}s.update(),d.update(D),F(),v=(t.position.z/h*m).toFixed(6)+" "+(-t.position.x/h*m).toFixed(6),f.innerText=v}function F(){n.render(e,o)}H()}};const Ie=(0,M.Z)(Be,[["render",ke]]);var Ze=Ie;const Oe=[{path:"/threejsdemo/water",name:"Water",component:Ze},{path:"/threejsdemo/a",name:"A",component:pe},{path:"/threejsdemo/b",name:"B",component:_e},{path:"/threejsdemo/",name:"Home",component:D},{path:"/threejsdemo/temp",name:"Temp Page",component:ae},{path:"/threejsdemo/about",name:"About",component:T},{path:"/threejsdemo/multicoloredsphere",name:"Multicolored Sphere",component:K},{path:"/threejsdemo/secondpage",name:"Second Page",component:ee}],Te=(0,r.p7)({history:(0,r.PO)(),routes:Oe});var Ne=Te,Re={name:"App",components:{},router:Ne,mounted(){}};const Xe=(0,M.Z)(Re,[["render",s]]);var Ye=Xe;const $e=(0,o.ri)(Ye);$e.use(Ne),$e.mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,a){if(!o){var s=1/0;for(l=0;l<e.length;l++){o=e[l][0],i=e[l][1],a=e[l][2];for(var r=!0,d=0;d<o.length;d++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[d])}))?o.splice(d--,1):(r=!1,a<s&&(s=a));if(r){e.splice(l--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[o,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,a,s=o[0],r=o[1],d=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(d)var l=d(n)}for(t&&t(o);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(l)},o=self["webpackChunkthreejsdemo"]=self["webpackChunkthreejsdemo"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3261)}));o=n.O(o)})();
//# sourceMappingURL=app.7ec0d1cd.js.map